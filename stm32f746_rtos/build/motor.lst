ARM GAS  /tmp/ccLlIZsg.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"motor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.comm	motor1,8,4
  18              		.comm	motor2,8,4
  19              		.comm	motor3,8,4
  20              		.comm	motor4,8,4
  21              		.comm	servo1,8,4
  22              		.comm	servo2,8,4
  23              		.global	reductor_coefficient
  24              		.section	.rodata.reductor_coefficient,"a",%progbits
  25              		.align	2
  28              	reductor_coefficient:
  29 0000 2C010000 		.word	300
  30              		.section	.text.motorInit,"ax",%progbits
  31              		.align	1
  32              		.global	motorInit
  33              		.syntax unified
  34              		.thumb
  35              		.thumb_func
  36              		.fpu fpv4-sp-d16
  38              	motorInit:
  39              	.LFB138:
  40              		.file 1 "Src/motor.c"
   1:Src/motor.c   **** 
   2:Src/motor.c   **** 
   3:Src/motor.c   **** #include "motor.h"
   4:Src/motor.c   **** #include "main.h"
   5:Src/motor.c   **** #include "gpio.h"
   6:Src/motor.c   **** #include "tim.h"
   7:Src/motor.c   **** 
   8:Src/motor.c   **** const int reductor_coefficient = 300; // 500/1.8 = 355.55555
   9:Src/motor.c   **** 
  10:Src/motor.c   **** 
  11:Src/motor.c   **** void motorInit()
  12:Src/motor.c   **** {
  41              		.loc 1 12 0
  42              		.cfi_startproc
  43              		@ args = 0, pretend = 0, frame = 0
  44              		@ frame_needed = 1, uses_anonymous_args = 0
  45 0000 80B5     		push	{r7, lr}
  46              	.LCFI0:
  47              		.cfi_def_cfa_offset 8
  48              		.cfi_offset 7, -8
ARM GAS  /tmp/ccLlIZsg.s 			page 2


  49              		.cfi_offset 14, -4
  50 0002 00AF     		add	r7, sp, #0
  51              	.LCFI1:
  52              		.cfi_def_cfa_register 7
  13:Src/motor.c   ****     HAL_TIM_Base_Start_IT(&htim2);
  53              		.loc 1 13 0
  54 0004 0248     		ldr	r0, .L2
  55 0006 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
  14:Src/motor.c   **** }
  56              		.loc 1 14 0
  57 000a 00BF     		nop
  58 000c 80BD     		pop	{r7, pc}
  59              	.L3:
  60 000e 00BF     		.align	2
  61              	.L2:
  62 0010 00000000 		.word	htim2
  63              		.cfi_endproc
  64              	.LFE138:
  66              		.section	.text.motor1Drive,"ax",%progbits
  67              		.align	1
  68              		.global	motor1Drive
  69              		.syntax unified
  70              		.thumb
  71              		.thumb_func
  72              		.fpu fpv4-sp-d16
  74              	motor1Drive:
  75              	.LFB139:
  15:Src/motor.c   **** 
  16:Src/motor.c   **** void  motor1Drive(int Direction)
  17:Src/motor.c   **** {
  76              		.loc 1 17 0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 8
  79              		@ frame_needed = 1, uses_anonymous_args = 0
  80 0000 80B5     		push	{r7, lr}
  81              	.LCFI2:
  82              		.cfi_def_cfa_offset 8
  83              		.cfi_offset 7, -8
  84              		.cfi_offset 14, -4
  85 0002 82B0     		sub	sp, sp, #8
  86              	.LCFI3:
  87              		.cfi_def_cfa_offset 16
  88 0004 00AF     		add	r7, sp, #0
  89              	.LCFI4:
  90              		.cfi_def_cfa_register 7
  91 0006 7860     		str	r0, [r7, #4]
  18:Src/motor.c   ****     static volatile int phase = 1;
  19:Src/motor.c   **** 
  20:Src/motor.c   ****     if(Direction == FORWARD)
  92              		.loc 1 20 0
  93 0008 7B68     		ldr	r3, [r7, #4]
  94 000a 012B     		cmp	r3, #1
  95 000c 40F08A80 		bne	.L5
  21:Src/motor.c   ****     {
  22:Src/motor.c   **** 
  23:Src/motor.c   ****         HAL_GPIO_WritePin(ENABLE_STEP1_GPIO_Port, ENABLE_STEP1_PIN,GPIO_PIN_SET);
  96              		.loc 1 23 0
ARM GAS  /tmp/ccLlIZsg.s 			page 3


  97 0010 0122     		movs	r2, #1
  98 0012 1021     		movs	r1, #16
  99 0014 9C48     		ldr	r0, .L15
 100 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
  24:Src/motor.c   **** 
  25:Src/motor.c   ****           if(phase  == 1)
 101              		.loc 1 25 0
 102 001a 9C4B     		ldr	r3, .L15+4
 103 001c 1B68     		ldr	r3, [r3]
 104 001e 012B     		cmp	r3, #1
 105 0020 1DD1     		bne	.L6
  26:Src/motor.c   ****           {
  27:Src/motor.c   **** 
  28:Src/motor.c   **** 
  29:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_SET);
 106              		.loc 1 29 0
 107 0022 0122     		movs	r2, #1
 108 0024 4FF40051 		mov	r1, #8192
 109 0028 9948     		ldr	r0, .L15+8
 110 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
  30:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_RESET);
 111              		.loc 1 30 0
 112 002e 0022     		movs	r2, #0
 113 0030 4FF48041 		mov	r1, #16384
 114 0034 9648     		ldr	r0, .L15+8
 115 0036 FFF7FEFF 		bl	HAL_GPIO_WritePin
  31:Src/motor.c   **** 
  32:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_SET);
 116              		.loc 1 32 0
 117 003a 0122     		movs	r2, #1
 118 003c 4FF48071 		mov	r1, #256
 119 0040 9448     		ldr	r0, .L15+12
 120 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
  33:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_RESET);
 121              		.loc 1 33 0
 122 0046 0022     		movs	r2, #0
 123 0048 4FF40041 		mov	r1, #32768
 124 004c 9048     		ldr	r0, .L15+8
 125 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
  34:Src/motor.c   ****               phase ++;
 126              		.loc 1 34 0
 127 0052 8E4B     		ldr	r3, .L15+4
 128 0054 1B68     		ldr	r3, [r3]
 129 0056 0133     		adds	r3, r3, #1
 130 0058 8C4A     		ldr	r2, .L15+4
 131 005a 1360     		str	r3, [r2]
 132 005c 62E0     		b	.L5
 133              	.L6:
  35:Src/motor.c   **** 
  36:Src/motor.c   ****           }
  37:Src/motor.c   ****           else if(phase  == 2)
 134              		.loc 1 37 0
 135 005e 8B4B     		ldr	r3, .L15+4
 136 0060 1B68     		ldr	r3, [r3]
 137 0062 022B     		cmp	r3, #2
 138 0064 1DD1     		bne	.L7
  38:Src/motor.c   ****           {
ARM GAS  /tmp/ccLlIZsg.s 			page 4


  39:Src/motor.c   **** 
  40:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_SET);
 139              		.loc 1 40 0
 140 0066 0122     		movs	r2, #1
 141 0068 4FF40051 		mov	r1, #8192
 142 006c 8848     		ldr	r0, .L15+8
 143 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
  41:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_RESET);
 144              		.loc 1 41 0
 145 0072 0022     		movs	r2, #0
 146 0074 4FF48041 		mov	r1, #16384
 147 0078 8548     		ldr	r0, .L15+8
 148 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
  42:Src/motor.c   **** 
  43:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_SET);
 149              		.loc 1 43 0
 150 007e 0122     		movs	r2, #1
 151 0080 4FF40041 		mov	r1, #32768
 152 0084 8248     		ldr	r0, .L15+8
 153 0086 FFF7FEFF 		bl	HAL_GPIO_WritePin
  44:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_RESET);
 154              		.loc 1 44 0
 155 008a 0022     		movs	r2, #0
 156 008c 4FF48071 		mov	r1, #256
 157 0090 8048     		ldr	r0, .L15+12
 158 0092 FFF7FEFF 		bl	HAL_GPIO_WritePin
  45:Src/motor.c   ****               phase ++;
 159              		.loc 1 45 0
 160 0096 7D4B     		ldr	r3, .L15+4
 161 0098 1B68     		ldr	r3, [r3]
 162 009a 0133     		adds	r3, r3, #1
 163 009c 7B4A     		ldr	r2, .L15+4
 164 009e 1360     		str	r3, [r2]
 165 00a0 40E0     		b	.L5
 166              	.L7:
  46:Src/motor.c   **** 
  47:Src/motor.c   ****           }
  48:Src/motor.c   ****           else if(phase  == 3)
 167              		.loc 1 48 0
 168 00a2 7A4B     		ldr	r3, .L15+4
 169 00a4 1B68     		ldr	r3, [r3]
 170 00a6 032B     		cmp	r3, #3
 171 00a8 1DD1     		bne	.L8
  49:Src/motor.c   ****           {
  50:Src/motor.c   **** 
  51:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_SET);
 172              		.loc 1 51 0
 173 00aa 0122     		movs	r2, #1
 174 00ac 4FF48041 		mov	r1, #16384
 175 00b0 7748     		ldr	r0, .L15+8
 176 00b2 FFF7FEFF 		bl	HAL_GPIO_WritePin
  52:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_RESET);
 177              		.loc 1 52 0
 178 00b6 0022     		movs	r2, #0
 179 00b8 4FF40051 		mov	r1, #8192
 180 00bc 7448     		ldr	r0, .L15+8
 181 00be FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  /tmp/ccLlIZsg.s 			page 5


  53:Src/motor.c   **** 
  54:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_SET);
 182              		.loc 1 54 0
 183 00c2 0122     		movs	r2, #1
 184 00c4 4FF40041 		mov	r1, #32768
 185 00c8 7148     		ldr	r0, .L15+8
 186 00ca FFF7FEFF 		bl	HAL_GPIO_WritePin
  55:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_RESET);
 187              		.loc 1 55 0
 188 00ce 0022     		movs	r2, #0
 189 00d0 4FF48071 		mov	r1, #256
 190 00d4 6F48     		ldr	r0, .L15+12
 191 00d6 FFF7FEFF 		bl	HAL_GPIO_WritePin
  56:Src/motor.c   ****               phase ++;
 192              		.loc 1 56 0
 193 00da 6C4B     		ldr	r3, .L15+4
 194 00dc 1B68     		ldr	r3, [r3]
 195 00de 0133     		adds	r3, r3, #1
 196 00e0 6A4A     		ldr	r2, .L15+4
 197 00e2 1360     		str	r3, [r2]
 198 00e4 1EE0     		b	.L5
 199              	.L8:
  57:Src/motor.c   **** 
  58:Src/motor.c   ****           }
  59:Src/motor.c   ****           else if(phase  == 4)
 200              		.loc 1 59 0
 201 00e6 694B     		ldr	r3, .L15+4
 202 00e8 1B68     		ldr	r3, [r3]
 203 00ea 042B     		cmp	r3, #4
 204 00ec 1AD1     		bne	.L5
  60:Src/motor.c   ****           {
  61:Src/motor.c   **** 
  62:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_SET);
 205              		.loc 1 62 0
 206 00ee 0122     		movs	r2, #1
 207 00f0 4FF48041 		mov	r1, #16384
 208 00f4 6648     		ldr	r0, .L15+8
 209 00f6 FFF7FEFF 		bl	HAL_GPIO_WritePin
  63:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_RESET);
 210              		.loc 1 63 0
 211 00fa 0022     		movs	r2, #0
 212 00fc 4FF40051 		mov	r1, #8192
 213 0100 6348     		ldr	r0, .L15+8
 214 0102 FFF7FEFF 		bl	HAL_GPIO_WritePin
  64:Src/motor.c   **** 
  65:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_SET);
 215              		.loc 1 65 0
 216 0106 0122     		movs	r2, #1
 217 0108 4FF48071 		mov	r1, #256
 218 010c 6148     		ldr	r0, .L15+12
 219 010e FFF7FEFF 		bl	HAL_GPIO_WritePin
  66:Src/motor.c   ****               HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_RESET);
 220              		.loc 1 66 0
 221 0112 0022     		movs	r2, #0
 222 0114 4FF40041 		mov	r1, #32768
 223 0118 5D48     		ldr	r0, .L15+8
 224 011a FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  /tmp/ccLlIZsg.s 			page 6


  67:Src/motor.c   ****               phase  = 1;
 225              		.loc 1 67 0
 226 011e 5B4B     		ldr	r3, .L15+4
 227 0120 0122     		movs	r2, #1
 228 0122 1A60     		str	r2, [r3]
 229              	.L5:
  68:Src/motor.c   **** 
  69:Src/motor.c   ****           }
  70:Src/motor.c   **** 
  71:Src/motor.c   **** 
  72:Src/motor.c   ****     }
  73:Src/motor.c   **** 
  74:Src/motor.c   ****     if(Direction == BACKWARD)
 230              		.loc 1 74 0
 231 0124 7B68     		ldr	r3, [r7, #4]
 232 0126 022B     		cmp	r3, #2
 233 0128 40F08A80 		bne	.L9
  75:Src/motor.c   ****     {
  76:Src/motor.c   ****         HAL_GPIO_WritePin(ENABLE_STEP1_GPIO_Port, ENABLE_STEP1_PIN,GPIO_PIN_SET);
 234              		.loc 1 76 0
 235 012c 0122     		movs	r2, #1
 236 012e 1021     		movs	r1, #16
 237 0130 5548     		ldr	r0, .L15
 238 0132 FFF7FEFF 		bl	HAL_GPIO_WritePin
  77:Src/motor.c   **** 
  78:Src/motor.c   **** 
  79:Src/motor.c   ****         if(phase  == 1)
 239              		.loc 1 79 0
 240 0136 554B     		ldr	r3, .L15+4
 241 0138 1B68     		ldr	r3, [r3]
 242 013a 012B     		cmp	r3, #1
 243 013c 1DD1     		bne	.L10
  80:Src/motor.c   ****         {
  81:Src/motor.c   **** 
  82:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_SET);
 244              		.loc 1 82 0
 245 013e 0122     		movs	r2, #1
 246 0140 4FF48041 		mov	r1, #16384
 247 0144 5248     		ldr	r0, .L15+8
 248 0146 FFF7FEFF 		bl	HAL_GPIO_WritePin
  83:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_RESET);
 249              		.loc 1 83 0
 250 014a 0022     		movs	r2, #0
 251 014c 4FF40051 		mov	r1, #8192
 252 0150 4F48     		ldr	r0, .L15+8
 253 0152 FFF7FEFF 		bl	HAL_GPIO_WritePin
  84:Src/motor.c   **** 
  85:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_SET);
 254              		.loc 1 85 0
 255 0156 0122     		movs	r2, #1
 256 0158 4FF48071 		mov	r1, #256
 257 015c 4D48     		ldr	r0, .L15+12
 258 015e FFF7FEFF 		bl	HAL_GPIO_WritePin
  86:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_RESET);
 259              		.loc 1 86 0
 260 0162 0022     		movs	r2, #0
 261 0164 4FF40041 		mov	r1, #32768
ARM GAS  /tmp/ccLlIZsg.s 			page 7


 262 0168 4948     		ldr	r0, .L15+8
 263 016a FFF7FEFF 		bl	HAL_GPIO_WritePin
  87:Src/motor.c   **** 
  88:Src/motor.c   **** 
  89:Src/motor.c   ****             phase ++;
 264              		.loc 1 89 0
 265 016e 474B     		ldr	r3, .L15+4
 266 0170 1B68     		ldr	r3, [r3]
 267 0172 0133     		adds	r3, r3, #1
 268 0174 454A     		ldr	r2, .L15+4
 269 0176 1360     		str	r3, [r2]
 270 0178 62E0     		b	.L9
 271              	.L10:
  90:Src/motor.c   **** 
  91:Src/motor.c   ****         }
  92:Src/motor.c   ****         else if(phase  == 2)
 272              		.loc 1 92 0
 273 017a 444B     		ldr	r3, .L15+4
 274 017c 1B68     		ldr	r3, [r3]
 275 017e 022B     		cmp	r3, #2
 276 0180 1DD1     		bne	.L11
  93:Src/motor.c   ****         {
  94:Src/motor.c   **** 
  95:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_SET);
 277              		.loc 1 95 0
 278 0182 0122     		movs	r2, #1
 279 0184 4FF48041 		mov	r1, #16384
 280 0188 4148     		ldr	r0, .L15+8
 281 018a FFF7FEFF 		bl	HAL_GPIO_WritePin
  96:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_RESET);
 282              		.loc 1 96 0
 283 018e 0022     		movs	r2, #0
 284 0190 4FF40051 		mov	r1, #8192
 285 0194 3E48     		ldr	r0, .L15+8
 286 0196 FFF7FEFF 		bl	HAL_GPIO_WritePin
  97:Src/motor.c   **** 
  98:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_SET);
 287              		.loc 1 98 0
 288 019a 0122     		movs	r2, #1
 289 019c 4FF40041 		mov	r1, #32768
 290 01a0 3B48     		ldr	r0, .L15+8
 291 01a2 FFF7FEFF 		bl	HAL_GPIO_WritePin
  99:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_RESET);
 292              		.loc 1 99 0
 293 01a6 0022     		movs	r2, #0
 294 01a8 4FF48071 		mov	r1, #256
 295 01ac 3948     		ldr	r0, .L15+12
 296 01ae FFF7FEFF 		bl	HAL_GPIO_WritePin
 100:Src/motor.c   **** 
 101:Src/motor.c   **** 
 102:Src/motor.c   ****             phase ++;
 297              		.loc 1 102 0
 298 01b2 364B     		ldr	r3, .L15+4
 299 01b4 1B68     		ldr	r3, [r3]
 300 01b6 0133     		adds	r3, r3, #1
 301 01b8 344A     		ldr	r2, .L15+4
 302 01ba 1360     		str	r3, [r2]
ARM GAS  /tmp/ccLlIZsg.s 			page 8


 303 01bc 40E0     		b	.L9
 304              	.L11:
 103:Src/motor.c   **** 
 104:Src/motor.c   ****         }
 105:Src/motor.c   ****         else if(phase  == 3)
 305              		.loc 1 105 0
 306 01be 334B     		ldr	r3, .L15+4
 307 01c0 1B68     		ldr	r3, [r3]
 308 01c2 032B     		cmp	r3, #3
 309 01c4 1DD1     		bne	.L12
 106:Src/motor.c   ****         {
 107:Src/motor.c   **** 
 108:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_SET);
 310              		.loc 1 108 0
 311 01c6 0122     		movs	r2, #1
 312 01c8 4FF40051 		mov	r1, #8192
 313 01cc 3048     		ldr	r0, .L15+8
 314 01ce FFF7FEFF 		bl	HAL_GPIO_WritePin
 109:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_RESET);
 315              		.loc 1 109 0
 316 01d2 0022     		movs	r2, #0
 317 01d4 4FF48041 		mov	r1, #16384
 318 01d8 2D48     		ldr	r0, .L15+8
 319 01da FFF7FEFF 		bl	HAL_GPIO_WritePin
 110:Src/motor.c   **** 
 111:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_SET);
 320              		.loc 1 111 0
 321 01de 0122     		movs	r2, #1
 322 01e0 4FF40041 		mov	r1, #32768
 323 01e4 2A48     		ldr	r0, .L15+8
 324 01e6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 112:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_RESET);
 325              		.loc 1 112 0
 326 01ea 0022     		movs	r2, #0
 327 01ec 4FF48071 		mov	r1, #256
 328 01f0 2848     		ldr	r0, .L15+12
 329 01f2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 113:Src/motor.c   **** 
 114:Src/motor.c   ****             phase ++;
 330              		.loc 1 114 0
 331 01f6 254B     		ldr	r3, .L15+4
 332 01f8 1B68     		ldr	r3, [r3]
 333 01fa 0133     		adds	r3, r3, #1
 334 01fc 234A     		ldr	r2, .L15+4
 335 01fe 1360     		str	r3, [r2]
 336 0200 1EE0     		b	.L9
 337              	.L12:
 115:Src/motor.c   **** 
 116:Src/motor.c   ****         }
 117:Src/motor.c   ****         else if(phase  == 4)
 338              		.loc 1 117 0
 339 0202 224B     		ldr	r3, .L15+4
 340 0204 1B68     		ldr	r3, [r3]
 341 0206 042B     		cmp	r3, #4
 342 0208 1AD1     		bne	.L9
 118:Src/motor.c   ****         {
 119:Src/motor.c   **** 
ARM GAS  /tmp/ccLlIZsg.s 			page 9


 120:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_SET);
 343              		.loc 1 120 0
 344 020a 0122     		movs	r2, #1
 345 020c 4FF40051 		mov	r1, #8192
 346 0210 1F48     		ldr	r0, .L15+8
 347 0212 FFF7FEFF 		bl	HAL_GPIO_WritePin
 121:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_RESET);
 348              		.loc 1 121 0
 349 0216 0022     		movs	r2, #0
 350 0218 4FF48041 		mov	r1, #16384
 351 021c 1C48     		ldr	r0, .L15+8
 352 021e FFF7FEFF 		bl	HAL_GPIO_WritePin
 122:Src/motor.c   **** 
 123:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_SET);
 353              		.loc 1 123 0
 354 0222 0122     		movs	r2, #1
 355 0224 4FF48071 		mov	r1, #256
 356 0228 1A48     		ldr	r0, .L15+12
 357 022a FFF7FEFF 		bl	HAL_GPIO_WritePin
 124:Src/motor.c   ****             HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_RESET);
 358              		.loc 1 124 0
 359 022e 0022     		movs	r2, #0
 360 0230 4FF40041 		mov	r1, #32768
 361 0234 1648     		ldr	r0, .L15+8
 362 0236 FFF7FEFF 		bl	HAL_GPIO_WritePin
 125:Src/motor.c   ****             phase  = 1;
 363              		.loc 1 125 0
 364 023a 144B     		ldr	r3, .L15+4
 365 023c 0122     		movs	r2, #1
 366 023e 1A60     		str	r2, [r3]
 367              	.L9:
 126:Src/motor.c   **** 
 127:Src/motor.c   ****         }
 128:Src/motor.c   **** 
 129:Src/motor.c   ****     }
 130:Src/motor.c   **** 
 131:Src/motor.c   ****     if(Direction == STOP)
 368              		.loc 1 131 0
 369 0240 7B68     		ldr	r3, [r7, #4]
 370 0242 002B     		cmp	r3, #0
 371 0244 1CD1     		bne	.L14
 132:Src/motor.c   ****     {
 133:Src/motor.c   ****         HAL_GPIO_WritePin(ENABLE_STEP1_GPIO_Port, ENABLE_STEP1_PIN,GPIO_PIN_RESET);
 372              		.loc 1 133 0
 373 0246 0022     		movs	r2, #0
 374 0248 1021     		movs	r1, #16
 375 024a 0F48     		ldr	r0, .L15
 376 024c FFF7FEFF 		bl	HAL_GPIO_WritePin
 134:Src/motor.c   **** 
 135:Src/motor.c   ****         HAL_GPIO_WritePin(STEP1_AI1_GPIO_Port, STEP1_AI1_Pin, GPIO_PIN_RESET);
 377              		.loc 1 135 0
 378 0250 0022     		movs	r2, #0
 379 0252 4FF40051 		mov	r1, #8192
 380 0256 0E48     		ldr	r0, .L15+8
 381 0258 FFF7FEFF 		bl	HAL_GPIO_WritePin
 136:Src/motor.c   ****         HAL_GPIO_WritePin(STEP1_AI2_GPIO_Port, STEP1_AI2_Pin, GPIO_PIN_RESET);
 382              		.loc 1 136 0
ARM GAS  /tmp/ccLlIZsg.s 			page 10


 383 025c 0022     		movs	r2, #0
 384 025e 4FF48041 		mov	r1, #16384
 385 0262 0B48     		ldr	r0, .L15+8
 386 0264 FFF7FEFF 		bl	HAL_GPIO_WritePin
 137:Src/motor.c   **** 
 138:Src/motor.c   ****         HAL_GPIO_WritePin(STEP1_BI1_GPIO_Port, STEP1_BI1_Pin, GPIO_PIN_RESET);
 387              		.loc 1 138 0
 388 0268 0022     		movs	r2, #0
 389 026a 4FF48071 		mov	r1, #256
 390 026e 0948     		ldr	r0, .L15+12
 391 0270 FFF7FEFF 		bl	HAL_GPIO_WritePin
 139:Src/motor.c   ****         HAL_GPIO_WritePin(STEP1_BI2_GPIO_Port, STEP1_BI2_Pin, GPIO_PIN_RESET);
 392              		.loc 1 139 0
 393 0274 0022     		movs	r2, #0
 394 0276 4FF40041 		mov	r1, #32768
 395 027a 0548     		ldr	r0, .L15+8
 396 027c FFF7FEFF 		bl	HAL_GPIO_WritePin
 397              	.L14:
 140:Src/motor.c   ****     }
 141:Src/motor.c   **** 
 142:Src/motor.c   **** 
 143:Src/motor.c   **** }
 398              		.loc 1 143 0
 399 0280 00BF     		nop
 400 0282 0837     		adds	r7, r7, #8
 401              	.LCFI5:
 402              		.cfi_def_cfa_offset 8
 403 0284 BD46     		mov	sp, r7
 404              	.LCFI6:
 405              		.cfi_def_cfa_register 13
 406              		@ sp needed
 407 0286 80BD     		pop	{r7, pc}
 408              	.L16:
 409              		.align	2
 410              	.L15:
 411 0288 00080240 		.word	1073874944
 412 028c 00000000 		.word	phase.9951
 413 0290 00040240 		.word	1073873920
 414 0294 000C0240 		.word	1073875968
 415              		.cfi_endproc
 416              	.LFE139:
 418              		.section	.text.motor2Drive,"ax",%progbits
 419              		.align	1
 420              		.global	motor2Drive
 421              		.syntax unified
 422              		.thumb
 423              		.thumb_func
 424              		.fpu fpv4-sp-d16
 426              	motor2Drive:
 427              	.LFB140:
 144:Src/motor.c   **** 
 145:Src/motor.c   **** void motor2Drive(int Direction)
 146:Src/motor.c   **** {
 428              		.loc 1 146 0
 429              		.cfi_startproc
 430              		@ args = 0, pretend = 0, frame = 8
 431              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccLlIZsg.s 			page 11


 432 0000 80B5     		push	{r7, lr}
 433              	.LCFI7:
 434              		.cfi_def_cfa_offset 8
 435              		.cfi_offset 7, -8
 436              		.cfi_offset 14, -4
 437 0002 82B0     		sub	sp, sp, #8
 438              	.LCFI8:
 439              		.cfi_def_cfa_offset 16
 440 0004 00AF     		add	r7, sp, #0
 441              	.LCFI9:
 442              		.cfi_def_cfa_register 7
 443 0006 7860     		str	r0, [r7, #4]
 147:Src/motor.c   **** 
 148:Src/motor.c   ****     static volatile int phase = 1;
 149:Src/motor.c   **** 
 150:Src/motor.c   ****     if(Direction == FORWARD)
 444              		.loc 1 150 0
 445 0008 7B68     		ldr	r3, [r7, #4]
 446 000a 012B     		cmp	r3, #1
 447 000c 40F08A80 		bne	.L18
 151:Src/motor.c   ****     {
 152:Src/motor.c   **** 
 153:Src/motor.c   ****         HAL_GPIO_WritePin(ENABLE_STEP2_GPIO_Port, ENABLE_STEP2_PIN,GPIO_PIN_SET);
 448              		.loc 1 153 0
 449 0010 0122     		movs	r2, #1
 450 0012 2021     		movs	r1, #32
 451 0014 9C48     		ldr	r0, .L28
 452 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 154:Src/motor.c   **** 
 155:Src/motor.c   ****           if(phase  == 1)
 453              		.loc 1 155 0
 454 001a 9C4B     		ldr	r3, .L28+4
 455 001c 1B68     		ldr	r3, [r3]
 456 001e 012B     		cmp	r3, #1
 457 0020 1DD1     		bne	.L19
 156:Src/motor.c   ****           {
 157:Src/motor.c   **** 
 158:Src/motor.c   **** 
 159:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_SET);
 458              		.loc 1 159 0
 459 0022 0122     		movs	r2, #1
 460 0024 4FF48061 		mov	r1, #1024
 461 0028 9948     		ldr	r0, .L28+8
 462 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
 160:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_RESET);
 463              		.loc 1 160 0
 464 002e 0022     		movs	r2, #0
 465 0030 4FF40061 		mov	r1, #2048
 466 0034 9648     		ldr	r0, .L28+8
 467 0036 FFF7FEFF 		bl	HAL_GPIO_WritePin
 161:Src/motor.c   **** 
 162:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_SET);
 468              		.loc 1 162 0
 469 003a 0122     		movs	r2, #1
 470 003c 4FF40051 		mov	r1, #8192
 471 0040 9348     		ldr	r0, .L28+8
 472 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  /tmp/ccLlIZsg.s 			page 12


 163:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_RESET);
 473              		.loc 1 163 0
 474 0046 0022     		movs	r2, #0
 475 0048 4FF48051 		mov	r1, #4096
 476 004c 9048     		ldr	r0, .L28+8
 477 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
 164:Src/motor.c   ****               phase ++;
 478              		.loc 1 164 0
 479 0052 8E4B     		ldr	r3, .L28+4
 480 0054 1B68     		ldr	r3, [r3]
 481 0056 0133     		adds	r3, r3, #1
 482 0058 8C4A     		ldr	r2, .L28+4
 483 005a 1360     		str	r3, [r2]
 484 005c 62E0     		b	.L18
 485              	.L19:
 165:Src/motor.c   **** 
 166:Src/motor.c   ****           }
 167:Src/motor.c   ****           else if(phase  == 2)
 486              		.loc 1 167 0
 487 005e 8B4B     		ldr	r3, .L28+4
 488 0060 1B68     		ldr	r3, [r3]
 489 0062 022B     		cmp	r3, #2
 490 0064 1DD1     		bne	.L20
 168:Src/motor.c   ****           {
 169:Src/motor.c   **** 
 170:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_SET);
 491              		.loc 1 170 0
 492 0066 0122     		movs	r2, #1
 493 0068 4FF48061 		mov	r1, #1024
 494 006c 8848     		ldr	r0, .L28+8
 495 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 171:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_RESET);
 496              		.loc 1 171 0
 497 0072 0022     		movs	r2, #0
 498 0074 4FF40061 		mov	r1, #2048
 499 0078 8548     		ldr	r0, .L28+8
 500 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
 172:Src/motor.c   **** 
 173:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_SET);
 501              		.loc 1 173 0
 502 007e 0122     		movs	r2, #1
 503 0080 4FF48051 		mov	r1, #4096
 504 0084 8248     		ldr	r0, .L28+8
 505 0086 FFF7FEFF 		bl	HAL_GPIO_WritePin
 174:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_RESET);
 506              		.loc 1 174 0
 507 008a 0022     		movs	r2, #0
 508 008c 4FF40051 		mov	r1, #8192
 509 0090 7F48     		ldr	r0, .L28+8
 510 0092 FFF7FEFF 		bl	HAL_GPIO_WritePin
 175:Src/motor.c   ****               phase ++;
 511              		.loc 1 175 0
 512 0096 7D4B     		ldr	r3, .L28+4
 513 0098 1B68     		ldr	r3, [r3]
 514 009a 0133     		adds	r3, r3, #1
 515 009c 7B4A     		ldr	r2, .L28+4
 516 009e 1360     		str	r3, [r2]
ARM GAS  /tmp/ccLlIZsg.s 			page 13


 517 00a0 40E0     		b	.L18
 518              	.L20:
 176:Src/motor.c   **** 
 177:Src/motor.c   ****           }
 178:Src/motor.c   ****           else if(phase  == 3)
 519              		.loc 1 178 0
 520 00a2 7A4B     		ldr	r3, .L28+4
 521 00a4 1B68     		ldr	r3, [r3]
 522 00a6 032B     		cmp	r3, #3
 523 00a8 1DD1     		bne	.L21
 179:Src/motor.c   ****           {
 180:Src/motor.c   **** 
 181:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_SET);
 524              		.loc 1 181 0
 525 00aa 0122     		movs	r2, #1
 526 00ac 4FF40061 		mov	r1, #2048
 527 00b0 7748     		ldr	r0, .L28+8
 528 00b2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 182:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_RESET);
 529              		.loc 1 182 0
 530 00b6 0022     		movs	r2, #0
 531 00b8 4FF48061 		mov	r1, #1024
 532 00bc 7448     		ldr	r0, .L28+8
 533 00be FFF7FEFF 		bl	HAL_GPIO_WritePin
 183:Src/motor.c   **** 
 184:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_SET);
 534              		.loc 1 184 0
 535 00c2 0122     		movs	r2, #1
 536 00c4 4FF48051 		mov	r1, #4096
 537 00c8 7148     		ldr	r0, .L28+8
 538 00ca FFF7FEFF 		bl	HAL_GPIO_WritePin
 185:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_RESET);
 539              		.loc 1 185 0
 540 00ce 0022     		movs	r2, #0
 541 00d0 4FF40051 		mov	r1, #8192
 542 00d4 6E48     		ldr	r0, .L28+8
 543 00d6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 186:Src/motor.c   ****               phase ++;
 544              		.loc 1 186 0
 545 00da 6C4B     		ldr	r3, .L28+4
 546 00dc 1B68     		ldr	r3, [r3]
 547 00de 0133     		adds	r3, r3, #1
 548 00e0 6A4A     		ldr	r2, .L28+4
 549 00e2 1360     		str	r3, [r2]
 550 00e4 1EE0     		b	.L18
 551              	.L21:
 187:Src/motor.c   **** 
 188:Src/motor.c   ****           }
 189:Src/motor.c   ****           else if(phase  == 4)
 552              		.loc 1 189 0
 553 00e6 694B     		ldr	r3, .L28+4
 554 00e8 1B68     		ldr	r3, [r3]
 555 00ea 042B     		cmp	r3, #4
 556 00ec 1AD1     		bne	.L18
 190:Src/motor.c   ****           {
 191:Src/motor.c   **** 
 192:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_SET);
ARM GAS  /tmp/ccLlIZsg.s 			page 14


 557              		.loc 1 192 0
 558 00ee 0122     		movs	r2, #1
 559 00f0 4FF40061 		mov	r1, #2048
 560 00f4 6648     		ldr	r0, .L28+8
 561 00f6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 193:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_RESET);
 562              		.loc 1 193 0
 563 00fa 0022     		movs	r2, #0
 564 00fc 4FF48061 		mov	r1, #1024
 565 0100 6348     		ldr	r0, .L28+8
 566 0102 FFF7FEFF 		bl	HAL_GPIO_WritePin
 194:Src/motor.c   **** 
 195:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_SET);
 567              		.loc 1 195 0
 568 0106 0122     		movs	r2, #1
 569 0108 4FF40051 		mov	r1, #8192
 570 010c 6048     		ldr	r0, .L28+8
 571 010e FFF7FEFF 		bl	HAL_GPIO_WritePin
 196:Src/motor.c   ****               HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_RESET);
 572              		.loc 1 196 0
 573 0112 0022     		movs	r2, #0
 574 0114 4FF48051 		mov	r1, #4096
 575 0118 5D48     		ldr	r0, .L28+8
 576 011a FFF7FEFF 		bl	HAL_GPIO_WritePin
 197:Src/motor.c   ****               phase  = 1;
 577              		.loc 1 197 0
 578 011e 5B4B     		ldr	r3, .L28+4
 579 0120 0122     		movs	r2, #1
 580 0122 1A60     		str	r2, [r3]
 581              	.L18:
 198:Src/motor.c   **** 
 199:Src/motor.c   ****           }
 200:Src/motor.c   **** 
 201:Src/motor.c   **** 
 202:Src/motor.c   ****     }
 203:Src/motor.c   **** 
 204:Src/motor.c   ****     if(Direction == BACKWARD)
 582              		.loc 1 204 0
 583 0124 7B68     		ldr	r3, [r7, #4]
 584 0126 022B     		cmp	r3, #2
 585 0128 40F08A80 		bne	.L22
 205:Src/motor.c   ****     {
 206:Src/motor.c   **** 
 207:Src/motor.c   ****         HAL_GPIO_WritePin(ENABLE_STEP2_GPIO_Port, ENABLE_STEP2_PIN,GPIO_PIN_SET);
 586              		.loc 1 207 0
 587 012c 0122     		movs	r2, #1
 588 012e 2021     		movs	r1, #32
 589 0130 5548     		ldr	r0, .L28
 590 0132 FFF7FEFF 		bl	HAL_GPIO_WritePin
 208:Src/motor.c   **** 
 209:Src/motor.c   **** 
 210:Src/motor.c   ****         if(phase  == 1)
 591              		.loc 1 210 0
 592 0136 554B     		ldr	r3, .L28+4
 593 0138 1B68     		ldr	r3, [r3]
 594 013a 012B     		cmp	r3, #1
 595 013c 1DD1     		bne	.L23
ARM GAS  /tmp/ccLlIZsg.s 			page 15


 211:Src/motor.c   ****         {
 212:Src/motor.c   **** 
 213:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_SET);
 596              		.loc 1 213 0
 597 013e 0122     		movs	r2, #1
 598 0140 4FF40061 		mov	r1, #2048
 599 0144 5248     		ldr	r0, .L28+8
 600 0146 FFF7FEFF 		bl	HAL_GPIO_WritePin
 214:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_RESET);
 601              		.loc 1 214 0
 602 014a 0022     		movs	r2, #0
 603 014c 4FF48061 		mov	r1, #1024
 604 0150 4F48     		ldr	r0, .L28+8
 605 0152 FFF7FEFF 		bl	HAL_GPIO_WritePin
 215:Src/motor.c   **** 
 216:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_SET);
 606              		.loc 1 216 0
 607 0156 0122     		movs	r2, #1
 608 0158 4FF40051 		mov	r1, #8192
 609 015c 4C48     		ldr	r0, .L28+8
 610 015e FFF7FEFF 		bl	HAL_GPIO_WritePin
 217:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_RESET);
 611              		.loc 1 217 0
 612 0162 0022     		movs	r2, #0
 613 0164 4FF48051 		mov	r1, #4096
 614 0168 4948     		ldr	r0, .L28+8
 615 016a FFF7FEFF 		bl	HAL_GPIO_WritePin
 218:Src/motor.c   **** 
 219:Src/motor.c   **** 
 220:Src/motor.c   ****             phase ++;
 616              		.loc 1 220 0
 617 016e 474B     		ldr	r3, .L28+4
 618 0170 1B68     		ldr	r3, [r3]
 619 0172 0133     		adds	r3, r3, #1
 620 0174 454A     		ldr	r2, .L28+4
 621 0176 1360     		str	r3, [r2]
 622 0178 62E0     		b	.L22
 623              	.L23:
 221:Src/motor.c   **** 
 222:Src/motor.c   ****         }
 223:Src/motor.c   ****         else if(phase  == 2)
 624              		.loc 1 223 0
 625 017a 444B     		ldr	r3, .L28+4
 626 017c 1B68     		ldr	r3, [r3]
 627 017e 022B     		cmp	r3, #2
 628 0180 1DD1     		bne	.L24
 224:Src/motor.c   ****         {
 225:Src/motor.c   **** 
 226:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_SET);
 629              		.loc 1 226 0
 630 0182 0122     		movs	r2, #1
 631 0184 4FF40061 		mov	r1, #2048
 632 0188 4148     		ldr	r0, .L28+8
 633 018a FFF7FEFF 		bl	HAL_GPIO_WritePin
 227:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_RESET);
 634              		.loc 1 227 0
 635 018e 0022     		movs	r2, #0
ARM GAS  /tmp/ccLlIZsg.s 			page 16


 636 0190 4FF48061 		mov	r1, #1024
 637 0194 3E48     		ldr	r0, .L28+8
 638 0196 FFF7FEFF 		bl	HAL_GPIO_WritePin
 228:Src/motor.c   **** 
 229:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_SET);
 639              		.loc 1 229 0
 640 019a 0122     		movs	r2, #1
 641 019c 4FF48051 		mov	r1, #4096
 642 01a0 3B48     		ldr	r0, .L28+8
 643 01a2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 230:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_RESET);
 644              		.loc 1 230 0
 645 01a6 0022     		movs	r2, #0
 646 01a8 4FF40051 		mov	r1, #8192
 647 01ac 3848     		ldr	r0, .L28+8
 648 01ae FFF7FEFF 		bl	HAL_GPIO_WritePin
 231:Src/motor.c   **** 
 232:Src/motor.c   **** 
 233:Src/motor.c   ****             phase ++;
 649              		.loc 1 233 0
 650 01b2 364B     		ldr	r3, .L28+4
 651 01b4 1B68     		ldr	r3, [r3]
 652 01b6 0133     		adds	r3, r3, #1
 653 01b8 344A     		ldr	r2, .L28+4
 654 01ba 1360     		str	r3, [r2]
 655 01bc 40E0     		b	.L22
 656              	.L24:
 234:Src/motor.c   **** 
 235:Src/motor.c   ****         }
 236:Src/motor.c   ****         else if(phase  == 3)
 657              		.loc 1 236 0
 658 01be 334B     		ldr	r3, .L28+4
 659 01c0 1B68     		ldr	r3, [r3]
 660 01c2 032B     		cmp	r3, #3
 661 01c4 1DD1     		bne	.L25
 237:Src/motor.c   ****         {
 238:Src/motor.c   **** 
 239:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_SET);
 662              		.loc 1 239 0
 663 01c6 0122     		movs	r2, #1
 664 01c8 4FF48061 		mov	r1, #1024
 665 01cc 3048     		ldr	r0, .L28+8
 666 01ce FFF7FEFF 		bl	HAL_GPIO_WritePin
 240:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_RESET);
 667              		.loc 1 240 0
 668 01d2 0022     		movs	r2, #0
 669 01d4 4FF40061 		mov	r1, #2048
 670 01d8 2D48     		ldr	r0, .L28+8
 671 01da FFF7FEFF 		bl	HAL_GPIO_WritePin
 241:Src/motor.c   **** 
 242:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_SET);
 672              		.loc 1 242 0
 673 01de 0122     		movs	r2, #1
 674 01e0 4FF48051 		mov	r1, #4096
 675 01e4 2A48     		ldr	r0, .L28+8
 676 01e6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 243:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_RESET);
ARM GAS  /tmp/ccLlIZsg.s 			page 17


 677              		.loc 1 243 0
 678 01ea 0022     		movs	r2, #0
 679 01ec 4FF40051 		mov	r1, #8192
 680 01f0 2748     		ldr	r0, .L28+8
 681 01f2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 244:Src/motor.c   **** 
 245:Src/motor.c   ****             phase ++;
 682              		.loc 1 245 0
 683 01f6 254B     		ldr	r3, .L28+4
 684 01f8 1B68     		ldr	r3, [r3]
 685 01fa 0133     		adds	r3, r3, #1
 686 01fc 234A     		ldr	r2, .L28+4
 687 01fe 1360     		str	r3, [r2]
 688 0200 1EE0     		b	.L22
 689              	.L25:
 246:Src/motor.c   **** 
 247:Src/motor.c   ****         }
 248:Src/motor.c   ****         else if(phase  == 4)
 690              		.loc 1 248 0
 691 0202 224B     		ldr	r3, .L28+4
 692 0204 1B68     		ldr	r3, [r3]
 693 0206 042B     		cmp	r3, #4
 694 0208 1AD1     		bne	.L22
 249:Src/motor.c   ****         {
 250:Src/motor.c   **** 
 251:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_SET);
 695              		.loc 1 251 0
 696 020a 0122     		movs	r2, #1
 697 020c 4FF48061 		mov	r1, #1024
 698 0210 1F48     		ldr	r0, .L28+8
 699 0212 FFF7FEFF 		bl	HAL_GPIO_WritePin
 252:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_RESET);
 700              		.loc 1 252 0
 701 0216 0022     		movs	r2, #0
 702 0218 4FF40061 		mov	r1, #2048
 703 021c 1C48     		ldr	r0, .L28+8
 704 021e FFF7FEFF 		bl	HAL_GPIO_WritePin
 253:Src/motor.c   **** 
 254:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_SET);
 705              		.loc 1 254 0
 706 0222 0122     		movs	r2, #1
 707 0224 4FF40051 		mov	r1, #8192
 708 0228 1948     		ldr	r0, .L28+8
 709 022a FFF7FEFF 		bl	HAL_GPIO_WritePin
 255:Src/motor.c   ****             HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_RESET);
 710              		.loc 1 255 0
 711 022e 0022     		movs	r2, #0
 712 0230 4FF48051 		mov	r1, #4096
 713 0234 1648     		ldr	r0, .L28+8
 714 0236 FFF7FEFF 		bl	HAL_GPIO_WritePin
 256:Src/motor.c   ****             phase  = 1;
 715              		.loc 1 256 0
 716 023a 144B     		ldr	r3, .L28+4
 717 023c 0122     		movs	r2, #1
 718 023e 1A60     		str	r2, [r3]
 719              	.L22:
 257:Src/motor.c   **** 
ARM GAS  /tmp/ccLlIZsg.s 			page 18


 258:Src/motor.c   ****         }
 259:Src/motor.c   **** 
 260:Src/motor.c   ****     }
 261:Src/motor.c   **** 
 262:Src/motor.c   ****     if(Direction == STOP)
 720              		.loc 1 262 0
 721 0240 7B68     		ldr	r3, [r7, #4]
 722 0242 002B     		cmp	r3, #0
 723 0244 1CD1     		bne	.L27
 263:Src/motor.c   ****     {
 264:Src/motor.c   ****         HAL_GPIO_WritePin(ENABLE_STEP2_GPIO_Port, ENABLE_STEP2_PIN,GPIO_PIN_SET);
 724              		.loc 1 264 0
 725 0246 0122     		movs	r2, #1
 726 0248 2021     		movs	r1, #32
 727 024a 0F48     		ldr	r0, .L28
 728 024c FFF7FEFF 		bl	HAL_GPIO_WritePin
 265:Src/motor.c   **** 
 266:Src/motor.c   ****         HAL_GPIO_WritePin(STEP2_AI1_GPIO_Port, STEP2_AI1_Pin, GPIO_PIN_RESET);
 729              		.loc 1 266 0
 730 0250 0022     		movs	r2, #0
 731 0252 4FF48061 		mov	r1, #1024
 732 0256 0E48     		ldr	r0, .L28+8
 733 0258 FFF7FEFF 		bl	HAL_GPIO_WritePin
 267:Src/motor.c   ****         HAL_GPIO_WritePin(STEP2_AI2_GPIO_Port, STEP2_AI2_Pin, GPIO_PIN_RESET);
 734              		.loc 1 267 0
 735 025c 0022     		movs	r2, #0
 736 025e 4FF40061 		mov	r1, #2048
 737 0262 0B48     		ldr	r0, .L28+8
 738 0264 FFF7FEFF 		bl	HAL_GPIO_WritePin
 268:Src/motor.c   **** 
 269:Src/motor.c   ****         HAL_GPIO_WritePin(STEP2_BI1_GPIO_Port, STEP2_BI1_Pin, GPIO_PIN_RESET);
 739              		.loc 1 269 0
 740 0268 0022     		movs	r2, #0
 741 026a 4FF40051 		mov	r1, #8192
 742 026e 0848     		ldr	r0, .L28+8
 743 0270 FFF7FEFF 		bl	HAL_GPIO_WritePin
 270:Src/motor.c   ****         HAL_GPIO_WritePin(STEP2_BI2_GPIO_Port, STEP2_BI2_Pin, GPIO_PIN_RESET);
 744              		.loc 1 270 0
 745 0274 0022     		movs	r2, #0
 746 0276 4FF48051 		mov	r1, #4096
 747 027a 0548     		ldr	r0, .L28+8
 748 027c FFF7FEFF 		bl	HAL_GPIO_WritePin
 749              	.L27:
 271:Src/motor.c   ****     }
 272:Src/motor.c   **** 
 273:Src/motor.c   **** }
 750              		.loc 1 273 0
 751 0280 00BF     		nop
 752 0282 0837     		adds	r7, r7, #8
 753              	.LCFI10:
 754              		.cfi_def_cfa_offset 8
 755 0284 BD46     		mov	sp, r7
 756              	.LCFI11:
 757              		.cfi_def_cfa_register 13
 758              		@ sp needed
 759 0286 80BD     		pop	{r7, pc}
 760              	.L29:
ARM GAS  /tmp/ccLlIZsg.s 			page 19


 761              		.align	2
 762              	.L28:
 763 0288 00080240 		.word	1073874944
 764 028c 00000000 		.word	phase.9955
 765 0290 000C0240 		.word	1073875968
 766              		.cfi_endproc
 767              	.LFE140:
 769              		.section	.data.phase.9951,"aw",%progbits
 770              		.align	2
 773              	phase.9951:
 774 0000 01000000 		.word	1
 775              		.section	.data.phase.9955,"aw",%progbits
 776              		.align	2
 779              	phase.9955:
 780 0000 01000000 		.word	1
 781              		.text
 782              	.Letext0:
 783              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 784              		.file 3 "/usr/include/newlib/sys/lock.h"
 785              		.file 4 "/usr/include/newlib/sys/_types.h"
 786              		.file 5 "/usr/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h"
 787              		.file 6 "/usr/include/newlib/sys/reent.h"
 788              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 789              		.file 8 "Drivers/CMSIS/Include/core_cm7.h"
 790              		.file 9 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 791              		.file 10 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 792              		.file 11 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 793              		.file 12 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
 794              		.file 13 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 795              		.file 14 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_tim.h"
 796              		.file 15 "Inc/motor.h"
 797              		.file 16 "Inc/tim.h"
ARM GAS  /tmp/ccLlIZsg.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 motor.c
                            *COM*:0000000000000008 motor1
                            *COM*:0000000000000008 motor2
                            *COM*:0000000000000008 motor3
                            *COM*:0000000000000008 motor4
                            *COM*:0000000000000008 servo1
                            *COM*:0000000000000008 servo2
     /tmp/ccLlIZsg.s:28     .rodata.reductor_coefficient:0000000000000000 reductor_coefficient
     /tmp/ccLlIZsg.s:25     .rodata.reductor_coefficient:0000000000000000 $d
     /tmp/ccLlIZsg.s:31     .text.motorInit:0000000000000000 $t
     /tmp/ccLlIZsg.s:38     .text.motorInit:0000000000000000 motorInit
     /tmp/ccLlIZsg.s:62     .text.motorInit:0000000000000010 $d
     /tmp/ccLlIZsg.s:67     .text.motor1Drive:0000000000000000 $t
     /tmp/ccLlIZsg.s:74     .text.motor1Drive:0000000000000000 motor1Drive
     /tmp/ccLlIZsg.s:411    .text.motor1Drive:0000000000000288 $d
     /tmp/ccLlIZsg.s:773    .data.phase.9951:0000000000000000 phase.9951
     /tmp/ccLlIZsg.s:419    .text.motor2Drive:0000000000000000 $t
     /tmp/ccLlIZsg.s:426    .text.motor2Drive:0000000000000000 motor2Drive
     /tmp/ccLlIZsg.s:763    .text.motor2Drive:0000000000000288 $d
     /tmp/ccLlIZsg.s:779    .data.phase.9955:0000000000000000 phase.9955
     /tmp/ccLlIZsg.s:770    .data.phase.9951:0000000000000000 $d
     /tmp/ccLlIZsg.s:776    .data.phase.9955:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_TIM_Base_Start_IT
htim2
HAL_GPIO_WritePin
