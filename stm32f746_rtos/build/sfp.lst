ARM GAS  /tmp/cc3EV8l9.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"sfp.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.getSfpTemperature,"ax",%progbits
  18              		.align	1
  19              		.global	getSfpTemperature
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	getSfpTemperature:
  26              	.LFB136:
  27              		.file 1 "Src/sfp.c"
   1:Src/sfp.c     **** #include "sfp.h"
   2:Src/sfp.c     **** #include "main.h"
   3:Src/sfp.c     **** #include "i2c.h"
   4:Src/sfp.c     **** 
   5:Src/sfp.c     **** 
   6:Src/sfp.c     **** //const unsigned char WRITE_ADDRESS = 0x00;
   7:Src/sfp.c     **** 
   8:Src/sfp.c     **** #define SFP_I2C_INFO_ADDRESS 0x50
   9:Src/sfp.c     **** #define SFP_I2C_DIAG_ADDRESS 0x51
  10:Src/sfp.c     **** 
  11:Src/sfp.c     **** int getSfpTemperature()
  12:Src/sfp.c     **** {
  28              		.loc 1 12 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 264
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 C4B0     		sub	sp, sp, #272
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 280
  40 0004 02AF     		add	r7, sp, #8
  41              	.LCFI2:
  42              		.cfi_def_cfa 7, 272
  13:Src/sfp.c     **** 
  14:Src/sfp.c     ****     HAL_StatusTypeDef i2c_status;
  15:Src/sfp.c     ****     char buffer[256];
  16:Src/sfp.c     ****     unsigned char data = 0x00;
ARM GAS  /tmp/cc3EV8l9.s 			page 2


  43              		.loc 1 16 0
  44 0006 FB1C     		adds	r3, r7, #3
  45 0008 0022     		movs	r2, #0
  46 000a 1A70     		strb	r2, [r3]
  17:Src/sfp.c     **** 
  18:Src/sfp.c     **** 
  19:Src/sfp.c     ****     i2c_status = HAL_I2C_Master_Transmit(&hi2c2, 0x51, &data, 1, 1000);
  47              		.loc 1 19 0
  48 000c FA1C     		adds	r2, r7, #3
  49 000e 4FF47A73 		mov	r3, #1000
  50 0012 0093     		str	r3, [sp]
  51 0014 0123     		movs	r3, #1
  52 0016 5121     		movs	r1, #81
  53 0018 0648     		ldr	r0, .L3
  54 001a FFF7FEFF 		bl	HAL_I2C_Master_Transmit
  55 001e 0346     		mov	r3, r0
  56 0020 87F80731 		strb	r3, [r7, #263]
  20:Src/sfp.c     **** 
  21:Src/sfp.c     **** //  if(i2c_status != HAL_OK)
  22:Src/sfp.c     ****     return i2c_status;
  57              		.loc 1 22 0
  58 0024 97F80731 		ldrb	r3, [r7, #263]	@ zero_extendqisi2
  23:Src/sfp.c     **** 
  24:Src/sfp.c     **** 
  25:Src/sfp.c     **** //    i2c_status = HAL_I2C_Master_Receive(&hi2c2, SFP_I2C_DIAG_ADDRESS, &buffer, 256, 1000);
  26:Src/sfp.c     **** 
  27:Src/sfp.c     **** //    if(i2c_status != HAL_OK)
  28:Src/sfp.c     **** //        return 2.0f;
  29:Src/sfp.c     **** 
  30:Src/sfp.c     **** 
  31:Src/sfp.c     **** //    return 3.0f;
  32:Src/sfp.c     **** 
  33:Src/sfp.c     **** }
  59              		.loc 1 33 0
  60 0028 1846     		mov	r0, r3
  61 002a 07F58477 		add	r7, r7, #264
  62              	.LCFI3:
  63              		.cfi_def_cfa_offset 8
  64 002e BD46     		mov	sp, r7
  65              	.LCFI4:
  66              		.cfi_def_cfa_register 13
  67              		@ sp needed
  68 0030 80BD     		pop	{r7, pc}
  69              	.L4:
  70 0032 00BF     		.align	2
  71              	.L3:
  72 0034 00000000 		.word	hi2c2
  73              		.cfi_endproc
  74              	.LFE136:
  76              		.text
  77              	.Letext0:
  78              		.file 2 "/usr/include/newlib/machine/_default_types.h"
  79              		.file 3 "/usr/include/newlib/sys/lock.h"
  80              		.file 4 "/usr/include/newlib/sys/_types.h"
  81              		.file 5 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
  82              		.file 6 "/usr/include/newlib/sys/reent.h"
  83              		.file 7 "/usr/include/newlib/sys/_stdint.h"
ARM GAS  /tmp/cc3EV8l9.s 			page 3


  84              		.file 8 "Drivers/CMSIS/Include/core_cm7.h"
  85              		.file 9 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
  86              		.file 10 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
  87              		.file 11 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
  88              		.file 12 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
  89              		.file 13 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_i2c.h"
  90              		.file 14 "Inc/i2c.h"
ARM GAS  /tmp/cc3EV8l9.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 sfp.c
     /tmp/cc3EV8l9.s:18     .text.getSfpTemperature:0000000000000000 $t
     /tmp/cc3EV8l9.s:25     .text.getSfpTemperature:0000000000000000 getSfpTemperature
     /tmp/cc3EV8l9.s:72     .text.getSfpTemperature:0000000000000034 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_I2C_Master_Transmit
hi2c2
