ARM GAS  /tmp/ccUNhyIk.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"spicom.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SPI1_IRQHandler,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.global	SPI1_IRQHandler
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	SPI1_IRQHandler:
  27              	.LFB138:
  28              		.file 1 "Src/spicom.c"
   1:Src/spicom.c  **** 
   2:Src/spicom.c  **** 
   3:Src/spicom.c  **** #include "spicom.h"
   4:Src/spicom.c  **** #include "spi.h"
   5:Src/spicom.c  **** 
   6:Src/spicom.c  **** 
   7:Src/spicom.c  **** volatile short int UpdateDataAvailable = 0;
   8:Src/spicom.c  **** volatile short int UpdateFinished = 0;
   9:Src/spicom.c  **** 
  10:Src/spicom.c  **** int NextUpdateDataPackage = 1;
  11:Src/spicom.c  **** 
  12:Src/spicom.c  **** void SPI1_IRQHandler(void)
  13:Src/spicom.c  **** {
  29              		.loc 1 13 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
  14:Src/spicom.c  **** 
  15:Src/spicom.c  ****    HAL_SPI_StateTypeDef status;
  16:Src/spicom.c  ****    HAL_StatusTypeDef update_file_status;
  17:Src/spicom.c  **** 
  18:Src/spicom.c  ****     HAL_SPI_IRQHandler(&hspi1);
  40              		.loc 1 18 0
ARM GAS  /tmp/ccUNhyIk.s 			page 2


  41 0002 2A48     		ldr	r0, .L19
  42 0004 FFF7FEFF 		bl	HAL_SPI_IRQHandler
  43              	.LVL0:
  19:Src/spicom.c  **** 
  20:Src/spicom.c  ****     status = HAL_SPI_GetState(&hspi1);
  44              		.loc 1 20 0
  45 0008 2848     		ldr	r0, .L19
  46 000a FFF7FEFF 		bl	HAL_SPI_GetState
  47              	.LVL1:
  21:Src/spicom.c  **** 
  22:Src/spicom.c  ****     if(status == HAL_SPI_STATE_READY)
  48              		.loc 1 22 0
  49 000e 0128     		cmp	r0, #1
  50 0010 0ED0     		beq	.L16
  51              	.LVL2:
  52              	.L2:
  23:Src/spicom.c  ****     {
  24:Src/spicom.c  **** 
  25:Src/spicom.c  **** 
  26:Src/spicom.c  ****         update_file_status = checkIfUpdateData();
  27:Src/spicom.c  **** 
  28:Src/spicom.c  ****         if(update_file_status == HAL_OK)
  29:Src/spicom.c  ****         {
  30:Src/spicom.c  **** 
  31:Src/spicom.c  ****             update_file_status = confirmUpdateDataAccuracy();
  32:Src/spicom.c  **** 
  33:Src/spicom.c  ****             if(update_file_status == HAL_OK)
  34:Src/spicom.c  ****             {
  35:Src/spicom.c  ****                 UpdateDataAvailable = 1;
  36:Src/spicom.c  ****             }
  37:Src/spicom.c  ****             else
  38:Src/spicom.c  ****             {
  39:Src/spicom.c  ****                 UpdateDataAvailable = 0;
  40:Src/spicom.c  ****             }
  41:Src/spicom.c  **** 
  42:Src/spicom.c  ****             putUpdateDataResponse();
  43:Src/spicom.c  **** 
  44:Src/spicom.c  ****         }
  45:Src/spicom.c  **** 
  46:Src/spicom.c  ****     }
  47:Src/spicom.c  **** 
  48:Src/spicom.c  **** 
  49:Src/spicom.c  ****     if(UpdateFinished == 0)
  53              		.loc 1 49 0
  54 0012 274B     		ldr	r3, .L19+4
  55 0014 1B88     		ldrh	r3, [r3]
  56 0016 1BB2     		sxth	r3, r3
  57 0018 03B1     		cbz	r3, .L17
  50:Src/spicom.c  ****         HAL_SPI_TransmitReceive_IT(&hspi1, (uint8_t *)SpiTxData, (uint8_t *)SpiRxData,  SPI_TRANSFE
  51:Src/spicom.c  **** 
  52:Src/spicom.c  **** }
  58              		.loc 1 52 0
  59 001a 70BD     		pop	{r4, r5, r6, pc}
  60              	.L17:
  50:Src/spicom.c  ****         HAL_SPI_TransmitReceive_IT(&hspi1, (uint8_t *)SpiTxData, (uint8_t *)SpiRxData,  SPI_TRANSFE
  61              		.loc 1 50 0
  62 001c 254A     		ldr	r2, .L19+8
ARM GAS  /tmp/ccUNhyIk.s 			page 3


  63 001e 7823     		movs	r3, #120
  64 0020 2549     		ldr	r1, .L19+12
  65 0022 1268     		ldr	r2, [r2]
  66 0024 0968     		ldr	r1, [r1]
  67 0026 2148     		ldr	r0, .L19
  68              		.loc 1 52 0
  69 0028 BDE87040 		pop	{r4, r5, r6, lr}
  70              	.LCFI1:
  71              		.cfi_remember_state
  72              		.cfi_restore 14
  73              		.cfi_restore 6
  74              		.cfi_restore 5
  75              		.cfi_restore 4
  76              		.cfi_def_cfa_offset 0
  50:Src/spicom.c  ****         HAL_SPI_TransmitReceive_IT(&hspi1, (uint8_t *)SpiTxData, (uint8_t *)SpiRxData,  SPI_TRANSFE
  77              		.loc 1 50 0
  78 002c FFF7FEBF 		b	HAL_SPI_TransmitReceive_IT
  79              	.LVL3:
  80              	.L16:
  81              	.LCFI2:
  82              		.cfi_restore_state
  83              	.LBB11:
  84              	.LBB12:
  53:Src/spicom.c  **** 
  54:Src/spicom.c  **** 
  55:Src/spicom.c  **** 
  56:Src/spicom.c  **** HAL_StatusTypeDef confirmUpdateDataAccuracy()
  57:Src/spicom.c  **** {
  58:Src/spicom.c  **** 
  59:Src/spicom.c  ****     uint16_t checksum = 0;
  60:Src/spicom.c  **** 
  61:Src/spicom.c  **** 
  62:Src/spicom.c  ****     for(int i=0; i< SPI_ENTITY_SIZE; i++)
  63:Src/spicom.c  ****         checksum += UpdateFile->data[i];
  64:Src/spicom.c  **** 
  65:Src/spicom.c  **** 
  66:Src/spicom.c  ****     if(UpdateFile->current_sequence_number == 0 || UpdateFile->total_sequence_number == 0)
  67:Src/spicom.c  ****         return HAL_ERROR;
  68:Src/spicom.c  **** 
  69:Src/spicom.c  ****     if(checksum != SpiRxData->checksum)
  70:Src/spicom.c  ****     {
  71:Src/spicom.c  ****         return HAL_ERROR;
  72:Src/spicom.c  ****     }
  73:Src/spicom.c  **** 
  74:Src/spicom.c  ****     if(UpdateFile->current_sequence_number != NextUpdateDataPackage)
  75:Src/spicom.c  ****     {
  76:Src/spicom.c  ****         return HAL_ERROR;
  77:Src/spicom.c  ****     }
  78:Src/spicom.c  ****     else
  79:Src/spicom.c  ****     {
  80:Src/spicom.c  ****         NextUpdateDataPackage++;
  81:Src/spicom.c  ****         return HAL_OK;
  82:Src/spicom.c  **** 
  83:Src/spicom.c  ****     }
  84:Src/spicom.c  **** 
  85:Src/spicom.c  **** }
  86:Src/spicom.c  **** 
ARM GAS  /tmp/ccUNhyIk.s 			page 4


  87:Src/spicom.c  **** 
  88:Src/spicom.c  **** 
  89:Src/spicom.c  **** HAL_StatusTypeDef checkIfUpdateData()
  90:Src/spicom.c  **** {
  91:Src/spicom.c  **** 
  92:Src/spicom.c  ****     if((SpiRxData->header & 0xff) == 'U' && ((SpiRxData->header >> 8) & 0xff) == 'P')
  85              		.loc 1 92 0
  86 0030 204C     		ldr	r4, .L19+8
  87 0032 2168     		ldr	r1, [r4]
  88 0034 0B88     		ldrh	r3, [r1]
  89 0036 DAB2     		uxtb	r2, r3
  90 0038 552A     		cmp	r2, #85
  91 003a EAD1     		bne	.L2
  92 003c 1B0A     		lsrs	r3, r3, #8
  93 003e 502B     		cmp	r3, #80
  94 0040 E7D1     		bne	.L2
  93:Src/spicom.c  ****     {
  94:Src/spicom.c  ****         memcpy(UpdateFile, SpiRxData->data, SPI_DATA_SIZE);
  95              		.loc 1 94 0
  96 0042 1E4D     		ldr	r5, .L19+16
  97 0044 7422     		movs	r2, #116
  98 0046 0231     		adds	r1, r1, #2
  99 0048 2868     		ldr	r0, [r5]
 100              	.LVL4:
 101 004a FFF7FEFF 		bl	memcpy
 102              	.LVL5:
 103              	.LBE12:
 104              	.LBE11:
 105              	.LBB13:
 106              	.LBB14:
 107              	.LBB15:
  63:Src/spicom.c  **** 
 108              		.loc 1 63 0
 109 004e 2D68     		ldr	r5, [r5]
 110              	.LBE15:
  59:Src/spicom.c  **** 
 111              		.loc 1 59 0
 112 0050 0023     		movs	r3, #0
 113 0052 EA1D     		adds	r2, r5, #7
 114 0054 05F17300 		add	r0, r5, #115
 115              	.LVL6:
 116              	.L3:
 117              	.LBB16:
  63:Src/spicom.c  **** 
 118              		.loc 1 63 0
 119 0058 12F8011F 		ldrb	r1, [r2, #1]!	@ zero_extendqisi2
 120 005c 0B44     		add	r3, r3, r1
 121              	.LVL7:
  62:Src/spicom.c  ****         checksum += UpdateFile->data[i];
 122              		.loc 1 62 0
 123 005e 9042     		cmp	r0, r2
  63:Src/spicom.c  **** 
 124              		.loc 1 63 0
 125 0060 9BB2     		uxth	r3, r3
 126              	.LVL8:
  62:Src/spicom.c  ****         checksum += UpdateFile->data[i];
 127              		.loc 1 62 0
ARM GAS  /tmp/ccUNhyIk.s 			page 5


 128 0062 F9D1     		bne	.L3
 129 0064 1649     		ldr	r1, .L19+20
 130              	.LBE16:
  66:Src/spicom.c  ****         return HAL_ERROR;
 131              		.loc 1 66 0
 132 0066 6868     		ldr	r0, [r5, #4]
 133 0068 0A68     		ldr	r2, [r1]
 134 006a 30B1     		cbz	r0, .L4
 135 006c 2D68     		ldr	r5, [r5]
 136 006e 25B1     		cbz	r5, .L4
  69:Src/spicom.c  ****     {
 137              		.loc 1 69 0
 138 0070 2468     		ldr	r4, [r4]
 139 0072 B4F87640 		ldrh	r4, [r4, #118]
 140 0076 9C42     		cmp	r4, r3
 141 0078 0FD0     		beq	.L18
 142              	.L4:
 143              	.LBE14:
 144              	.LBE13:
  39:Src/spicom.c  ****             }
 145              		.loc 1 39 0
 146 007a 124B     		ldr	r3, .L19+24
 147              	.LVL9:
 148 007c 0021     		movs	r1, #0
 149 007e 1980     		strh	r1, [r3]	@ movhi
 150              	.L5:
 151              	.LBB19:
 152              	.LBB20:
  95:Src/spicom.c  ****         return HAL_OK;
  96:Src/spicom.c  ****     }
  97:Src/spicom.c  ****     else
  98:Src/spicom.c  ****     {
  99:Src/spicom.c  ****         return HAL_ERROR;
 100:Src/spicom.c  ****     }
 101:Src/spicom.c  **** 
 102:Src/spicom.c  **** }
 103:Src/spicom.c  **** 
 104:Src/spicom.c  **** 
 105:Src/spicom.c  **** 
 106:Src/spicom.c  **** void putUpdateDataResponse()
 107:Src/spicom.c  **** {
 108:Src/spicom.c  **** 
 109:Src/spicom.c  ****     SpiTxData->header = 'U' | 'P' << 8;
 153              		.loc 1 109 0
 154 0080 0D4B     		ldr	r3, .L19+12
 155 0082 45F25505 		movw	r5, #20565
 110:Src/spicom.c  ****     SpiTxData->data[4] = NextUpdateDataPackage & 0xff;
 111:Src/spicom.c  ****     SpiTxData->data[5] = (NextUpdateDataPackage >>  8) & 0xff;
 156              		.loc 1 111 0
 157 0086 1412     		asrs	r4, r2, #8
 109:Src/spicom.c  ****     SpiTxData->data[4] = NextUpdateDataPackage & 0xff;
 158              		.loc 1 109 0
 159 0088 1B68     		ldr	r3, [r3]
 112:Src/spicom.c  ****     SpiTxData->data[6] = (NextUpdateDataPackage >> 16) & 0xff;
 160              		.loc 1 112 0
 161 008a 1014     		asrs	r0, r2, #16
 113:Src/spicom.c  ****     SpiTxData->data[7] = (NextUpdateDataPackage >> 24) & 0xff;
ARM GAS  /tmp/ccUNhyIk.s 			page 6


 162              		.loc 1 113 0
 163 008c 110E     		lsrs	r1, r2, #24
 110:Src/spicom.c  ****     SpiTxData->data[5] = (NextUpdateDataPackage >>  8) & 0xff;
 164              		.loc 1 110 0
 165 008e 9A71     		strb	r2, [r3, #6]
 109:Src/spicom.c  ****     SpiTxData->data[4] = NextUpdateDataPackage & 0xff;
 166              		.loc 1 109 0
 167 0090 1D80     		strh	r5, [r3]	@ movhi
 111:Src/spicom.c  ****     SpiTxData->data[6] = (NextUpdateDataPackage >> 16) & 0xff;
 168              		.loc 1 111 0
 169 0092 DC71     		strb	r4, [r3, #7]
 112:Src/spicom.c  ****     SpiTxData->data[7] = (NextUpdateDataPackage >> 24) & 0xff;
 170              		.loc 1 112 0
 171 0094 1872     		strb	r0, [r3, #8]
 172              		.loc 1 113 0
 173 0096 5972     		strb	r1, [r3, #9]
 174 0098 BBE7     		b	.L2
 175              	.LVL10:
 176              	.L18:
 177              	.LBE20:
 178              	.LBE19:
 179              	.LBB21:
 180              	.LBB17:
  74:Src/spicom.c  ****     {
 181              		.loc 1 74 0
 182 009a 9042     		cmp	r0, r2
 183 009c EDD1     		bne	.L4
  80:Src/spicom.c  ****         return HAL_OK;
 184              		.loc 1 80 0
 185 009e 0132     		adds	r2, r2, #1
 186              	.LBE17:
 187              	.LBE21:
  35:Src/spicom.c  ****             }
 188              		.loc 1 35 0
 189 00a0 084B     		ldr	r3, .L19+24
 190              	.LVL11:
 191 00a2 0120     		movs	r0, #1
 192              	.LBB22:
 193              	.LBB18:
  80:Src/spicom.c  ****         return HAL_OK;
 194              		.loc 1 80 0
 195 00a4 0A60     		str	r2, [r1]
 196              	.LBE18:
 197              	.LBE22:
  35:Src/spicom.c  ****             }
 198              		.loc 1 35 0
 199 00a6 1880     		strh	r0, [r3]	@ movhi
 200 00a8 EAE7     		b	.L5
 201              	.L20:
 202 00aa 00BF     		.align	2
 203              	.L19:
 204 00ac 00000000 		.word	hspi1
 205 00b0 00000000 		.word	.LANCHOR2
 206 00b4 00000000 		.word	SpiRxData
 207 00b8 00000000 		.word	SpiTxData
 208 00bc 00000000 		.word	UpdateFile
 209 00c0 00000000 		.word	.LANCHOR0
ARM GAS  /tmp/ccUNhyIk.s 			page 7


 210 00c4 00000000 		.word	.LANCHOR1
 211              		.cfi_endproc
 212              	.LFE138:
 214              		.section	.text.confirmUpdateDataAccuracy,"ax",%progbits
 215              		.align	1
 216              		.p2align 2,,3
 217              		.global	confirmUpdateDataAccuracy
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 221              		.fpu fpv4-sp-d16
 223              	confirmUpdateDataAccuracy:
 224              	.LFB139:
  57:Src/spicom.c  **** 
 225              		.loc 1 57 0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 0
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 229              		@ link register save eliminated.
 230              	.LVL12:
 231              	.LBB23:
  63:Src/spicom.c  **** 
 232              		.loc 1 63 0
 233 0000 114A     		ldr	r2, .L31
 234              	.LBE23:
  59:Src/spicom.c  **** 
 235              		.loc 1 59 0
 236 0002 0023     		movs	r3, #0
  57:Src/spicom.c  **** 
 237              		.loc 1 57 0
 238 0004 10B4     		push	{r4}
 239              	.LCFI3:
 240              		.cfi_def_cfa_offset 4
 241              		.cfi_offset 4, -4
 242              	.LBB24:
  63:Src/spicom.c  **** 
 243              		.loc 1 63 0
 244 0006 1468     		ldr	r4, [r2]
 245 0008 E21D     		adds	r2, r4, #7
 246 000a 04F17300 		add	r0, r4, #115
 247              	.LVL13:
 248              	.L22:
  63:Src/spicom.c  **** 
 249              		.loc 1 63 0 is_stmt 0 discriminator 3
 250 000e 12F8011F 		ldrb	r1, [r2, #1]!	@ zero_extendqisi2
 251 0012 0B44     		add	r3, r3, r1
 252              	.LVL14:
  62:Src/spicom.c  ****         checksum += UpdateFile->data[i];
 253              		.loc 1 62 0 is_stmt 1 discriminator 3
 254 0014 8242     		cmp	r2, r0
  63:Src/spicom.c  **** 
 255              		.loc 1 63 0 discriminator 3
 256 0016 9BB2     		uxth	r3, r3
 257              	.LVL15:
  62:Src/spicom.c  ****         checksum += UpdateFile->data[i];
 258              		.loc 1 62 0 discriminator 3
 259 0018 F9D1     		bne	.L22
ARM GAS  /tmp/ccUNhyIk.s 			page 8


 260              	.LBE24:
  66:Src/spicom.c  ****         return HAL_ERROR;
 261              		.loc 1 66 0
 262 001a 6268     		ldr	r2, [r4, #4]
 263 001c 3AB1     		cbz	r2, .L27
  66:Src/spicom.c  ****         return HAL_ERROR;
 264              		.loc 1 66 0 is_stmt 0 discriminator 1
 265 001e 2168     		ldr	r1, [r4]
 266 0020 29B1     		cbz	r1, .L27
  69:Src/spicom.c  ****     {
 267              		.loc 1 69 0 is_stmt 1
 268 0022 0A49     		ldr	r1, .L31+4
 269 0024 0968     		ldr	r1, [r1]
 270 0026 B1F87610 		ldrh	r1, [r1, #118]
 271 002a 9942     		cmp	r1, r3
 272 002c 03D0     		beq	.L30
 273              	.LVL16:
 274              	.L27:
  67:Src/spicom.c  **** 
 275              		.loc 1 67 0
 276 002e 0120     		movs	r0, #1
 277              	.L23:
  85:Src/spicom.c  **** 
 278              		.loc 1 85 0
 279 0030 5DF8044B 		ldr	r4, [sp], #4
 280              	.LCFI4:
 281              		.cfi_remember_state
 282              		.cfi_restore 4
 283              		.cfi_def_cfa_offset 0
 284 0034 7047     		bx	lr
 285              	.LVL17:
 286              	.L30:
 287              	.LCFI5:
 288              		.cfi_restore_state
  74:Src/spicom.c  ****     {
 289              		.loc 1 74 0
 290 0036 064B     		ldr	r3, .L31+8
 291              	.LVL18:
 292 0038 1968     		ldr	r1, [r3]
 293 003a 8A42     		cmp	r2, r1
 294 003c F7D1     		bne	.L27
  80:Src/spicom.c  ****         return HAL_OK;
 295              		.loc 1 80 0
 296 003e 0132     		adds	r2, r2, #1
  81:Src/spicom.c  **** 
 297              		.loc 1 81 0
 298 0040 0020     		movs	r0, #0
  80:Src/spicom.c  ****         return HAL_OK;
 299              		.loc 1 80 0
 300 0042 1A60     		str	r2, [r3]
  81:Src/spicom.c  **** 
 301              		.loc 1 81 0
 302 0044 F4E7     		b	.L23
 303              	.L32:
 304 0046 00BF     		.align	2
 305              	.L31:
 306 0048 00000000 		.word	UpdateFile
ARM GAS  /tmp/ccUNhyIk.s 			page 9


 307 004c 00000000 		.word	SpiRxData
 308 0050 00000000 		.word	.LANCHOR0
 309              		.cfi_endproc
 310              	.LFE139:
 312              		.section	.text.checkIfUpdateData,"ax",%progbits
 313              		.align	1
 314              		.p2align 2,,3
 315              		.global	checkIfUpdateData
 316              		.syntax unified
 317              		.thumb
 318              		.thumb_func
 319              		.fpu fpv4-sp-d16
 321              	checkIfUpdateData:
 322              	.LFB140:
  90:Src/spicom.c  **** 
 323              		.loc 1 90 0
 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327 0000 08B5     		push	{r3, lr}
 328              	.LCFI6:
 329              		.cfi_def_cfa_offset 8
 330              		.cfi_offset 3, -8
 331              		.cfi_offset 14, -4
  92:Src/spicom.c  ****     {
 332              		.loc 1 92 0
 333 0002 094B     		ldr	r3, .L39
 334 0004 1968     		ldr	r1, [r3]
 335 0006 0B88     		ldrh	r3, [r1]
 336 0008 DAB2     		uxtb	r2, r3
 337 000a 552A     		cmp	r2, #85
 338 000c 01D0     		beq	.L38
 339              	.L36:
  99:Src/spicom.c  ****     }
 340              		.loc 1 99 0
 341 000e 0120     		movs	r0, #1
 102:Src/spicom.c  **** 
 342              		.loc 1 102 0
 343 0010 08BD     		pop	{r3, pc}
 344              	.L38:
  92:Src/spicom.c  ****     {
 345              		.loc 1 92 0 discriminator 1
 346 0012 1B0A     		lsrs	r3, r3, #8
 347 0014 502B     		cmp	r3, #80
 348 0016 FAD1     		bne	.L36
  94:Src/spicom.c  ****         return HAL_OK;
 349              		.loc 1 94 0
 350 0018 044B     		ldr	r3, .L39+4
 351 001a 0231     		adds	r1, r1, #2
 352 001c 7422     		movs	r2, #116
 353 001e 1868     		ldr	r0, [r3]
 354 0020 FFF7FEFF 		bl	memcpy
 355              	.LVL19:
  95:Src/spicom.c  ****     }
 356              		.loc 1 95 0
 357 0024 0020     		movs	r0, #0
 102:Src/spicom.c  **** 
ARM GAS  /tmp/ccUNhyIk.s 			page 10


 358              		.loc 1 102 0
 359 0026 08BD     		pop	{r3, pc}
 360              	.L40:
 361              		.align	2
 362              	.L39:
 363 0028 00000000 		.word	SpiRxData
 364 002c 00000000 		.word	UpdateFile
 365              		.cfi_endproc
 366              	.LFE140:
 368              		.section	.text.putUpdateDataResponse,"ax",%progbits
 369              		.align	1
 370              		.p2align 2,,3
 371              		.global	putUpdateDataResponse
 372              		.syntax unified
 373              		.thumb
 374              		.thumb_func
 375              		.fpu fpv4-sp-d16
 377              	putUpdateDataResponse:
 378              	.LFB141:
 107:Src/spicom.c  **** 
 379              		.loc 1 107 0
 380              		.cfi_startproc
 381              		@ args = 0, pretend = 0, frame = 0
 382              		@ frame_needed = 0, uses_anonymous_args = 0
 383              		@ link register save eliminated.
 110:Src/spicom.c  ****     SpiTxData->data[5] = (NextUpdateDataPackage >>  8) & 0xff;
 384              		.loc 1 110 0
 385 0000 084B     		ldr	r3, .L43
 109:Src/spicom.c  ****     SpiTxData->data[4] = NextUpdateDataPackage & 0xff;
 386              		.loc 1 109 0
 387 0002 45F25500 		movw	r0, #20565
 388 0006 084A     		ldr	r2, .L43+4
 110:Src/spicom.c  ****     SpiTxData->data[5] = (NextUpdateDataPackage >>  8) & 0xff;
 389              		.loc 1 110 0
 390 0008 1B68     		ldr	r3, [r3]
 109:Src/spicom.c  ****     SpiTxData->data[4] = NextUpdateDataPackage & 0xff;
 391              		.loc 1 109 0
 392 000a 1268     		ldr	r2, [r2]
 112:Src/spicom.c  ****     SpiTxData->data[7] = (NextUpdateDataPackage >> 24) & 0xff;
 393              		.loc 1 112 0
 394 000c 1914     		asrs	r1, r3, #16
 107:Src/spicom.c  **** 
 395              		.loc 1 107 0
 396 000e 10B4     		push	{r4}
 397              	.LCFI7:
 398              		.cfi_def_cfa_offset 4
 399              		.cfi_offset 4, -4
 111:Src/spicom.c  ****     SpiTxData->data[6] = (NextUpdateDataPackage >> 16) & 0xff;
 400              		.loc 1 111 0
 401 0010 1C12     		asrs	r4, r3, #8
 110:Src/spicom.c  ****     SpiTxData->data[5] = (NextUpdateDataPackage >>  8) & 0xff;
 402              		.loc 1 110 0
 403 0012 9371     		strb	r3, [r2, #6]
 404              		.loc 1 113 0
 405 0014 1B0E     		lsrs	r3, r3, #24
 112:Src/spicom.c  ****     SpiTxData->data[7] = (NextUpdateDataPackage >> 24) & 0xff;
 406              		.loc 1 112 0
ARM GAS  /tmp/ccUNhyIk.s 			page 11


 407 0016 1172     		strb	r1, [r2, #8]
 111:Src/spicom.c  ****     SpiTxData->data[6] = (NextUpdateDataPackage >> 16) & 0xff;
 408              		.loc 1 111 0
 409 0018 D471     		strb	r4, [r2, #7]
 410              		.loc 1 113 0
 411 001a 5372     		strb	r3, [r2, #9]
 109:Src/spicom.c  ****     SpiTxData->data[4] = NextUpdateDataPackage & 0xff;
 412              		.loc 1 109 0
 413 001c 1080     		strh	r0, [r2]	@ movhi
 114:Src/spicom.c  **** 
 115:Src/spicom.c  **** }
 414              		.loc 1 115 0
 415 001e 5DF8044B 		ldr	r4, [sp], #4
 416              	.LCFI8:
 417              		.cfi_restore 4
 418              		.cfi_def_cfa_offset 0
 419 0022 7047     		bx	lr
 420              	.L44:
 421              		.align	2
 422              	.L43:
 423 0024 00000000 		.word	.LANCHOR0
 424 0028 00000000 		.word	SpiTxData
 425              		.cfi_endproc
 426              	.LFE141:
 428              		.section	.text.processUpdateData,"ax",%progbits
 429              		.align	1
 430              		.p2align 2,,3
 431              		.global	processUpdateData
 432              		.syntax unified
 433              		.thumb
 434              		.thumb_func
 435              		.fpu fpv4-sp-d16
 437              	processUpdateData:
 438              	.LFB142:
 116:Src/spicom.c  **** 
 117:Src/spicom.c  **** 
 118:Src/spicom.c  **** 
 119:Src/spicom.c  **** Update_File processUpdateData()
 120:Src/spicom.c  **** {
 439              		.loc 1 120 0
 440              		.cfi_startproc
 441              		@ args = 0, pretend = 0, frame = 0
 442              		@ frame_needed = 0, uses_anonymous_args = 0
 443              	.LVL20:
 444 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 445              	.LCFI9:
 446              		.cfi_def_cfa_offset 32
 447              		.cfi_offset 4, -32
 448              		.cfi_offset 5, -28
 449              		.cfi_offset 6, -24
 450              		.cfi_offset 7, -20
 451              		.cfi_offset 8, -16
 452              		.cfi_offset 9, -12
 453              		.cfi_offset 10, -8
 454              		.cfi_offset 14, -4
 121:Src/spicom.c  **** 
 122:Src/spicom.c  ****     static unsigned char *buffer;
ARM GAS  /tmp/ccUNhyIk.s 			page 12


 123:Src/spicom.c  ****     static short int memory_allocated = 0;
 124:Src/spicom.c  ****     static uint32_t size = 0;
 125:Src/spicom.c  ****     Update_File descriptor;
 126:Src/spicom.c  **** 
 127:Src/spicom.c  **** 
 128:Src/spicom.c  ****     if(UpdateFile->current_sequence_number == 1 && memory_allocated == 0)
 455              		.loc 1 128 0
 456 0004 284E     		ldr	r6, .L53
 120:Src/spicom.c  **** 
 457              		.loc 1 120 0
 458 0006 0546     		mov	r5, r0
 459              		.loc 1 128 0
 460 0008 3768     		ldr	r7, [r6]
 461 000a 7C68     		ldr	r4, [r7, #4]
 462 000c 012C     		cmp	r4, #1
 463 000e 17D0     		beq	.L46
 464              	.L48:
 465 0010 DFF8A480 		ldr	r8, .L53+16
 466 0014 D8F80000 		ldr	r0, [r8]
 467              	.LVL21:
 468              	.L47:
 129:Src/spicom.c  ****     {
 130:Src/spicom.c  ****         size = UpdateFile->total_sequence_number * UPDATE_FILE_PACKAGE_SIZE;
 131:Src/spicom.c  ****         buffer = malloc(size);
 132:Src/spicom.c  ****         memory_allocated = 1;
 133:Src/spicom.c  **** 
 134:Src/spicom.c  ****         descriptor.file_size = size;
 135:Src/spicom.c  ****     }
 136:Src/spicom.c  **** 
 137:Src/spicom.c  ****     descriptor.receive_complited = 0;
 138:Src/spicom.c  **** 
 139:Src/spicom.c  ****     memcpy(&buffer[(UpdateFile->current_sequence_number - 1) * UPDATE_FILE_PACKAGE_SIZE], &UpdateFi
 469              		.loc 1 139 0
 470 0018 6C22     		movs	r2, #108
 471 001a 07F10801 		add	r1, r7, #8
 472 001e 02FB0400 		mla	r0, r2, r4, r0
 473 0022 6C38     		subs	r0, r0, #108
 474 0024 FFF7FEFF 		bl	memcpy
 475              	.LVL22:
 140:Src/spicom.c  **** 
 141:Src/spicom.c  ****     if(UpdateFile->current_sequence_number == UpdateFile->total_sequence_number)
 476              		.loc 1 141 0
 477 0028 3368     		ldr	r3, [r6]
 478 002a D3E90032 		ldrd	r3, r2, [r3]
 479 002e 9A42     		cmp	r2, r3
 480 0030 1ED0     		beq	.L52
 142:Src/spicom.c  ****     {
 143:Src/spicom.c  **** 
 144:Src/spicom.c  ****         mprintf("Upgrading...\r\n");
 145:Src/spicom.c  **** 
 146:Src/spicom.c  ****         SpiRxData->header = 0;
 147:Src/spicom.c  ****         SpiRxData->checksum = 0;
 148:Src/spicom.c  ****         UpdateFile->current_sequence_number = 0;
 149:Src/spicom.c  ****         UpdateFile->total_sequence_number = -1;
 150:Src/spicom.c  **** 
 151:Src/spicom.c  **** 
 152:Src/spicom.c  ****         HAL_Delay(50);
ARM GAS  /tmp/ccUNhyIk.s 			page 13


 153:Src/spicom.c  **** 
 154:Src/spicom.c  ****         descriptor.receive_complited = 1;
 155:Src/spicom.c  ****         descriptor.file_size = size;
 156:Src/spicom.c  ****         descriptor.file_pointer = buffer;
 157:Src/spicom.c  **** //        descriptor.file_pointer = malloc(size);
 158:Src/spicom.c  **** 
 159:Src/spicom.c  **** //        memcpy(descriptor.file_pointer, buffer, size);
 160:Src/spicom.c  **** 
 161:Src/spicom.c  **** //        free(buffer);
 162:Src/spicom.c  **** 
 163:Src/spicom.c  ****         return descriptor;
 164:Src/spicom.c  **** 
 165:Src/spicom.c  ****     }
 166:Src/spicom.c  ****     else
 167:Src/spicom.c  ****     {
 168:Src/spicom.c  ****         return descriptor;
 481              		.loc 1 168 0
 482 0032 0022     		movs	r2, #0
 169:Src/spicom.c  ****     }
 170:Src/spicom.c  **** 
 171:Src/spicom.c  **** 
 172:Src/spicom.c  **** 
 173:Src/spicom.c  **** }
 483              		.loc 1 173 0
 484 0034 2846     		mov	r0, r5
 168:Src/spicom.c  ****     }
 485              		.loc 1 168 0
 486 0036 C5E90029 		strd	r2, r9, [r5]
 487 003a 2A81     		strh	r2, [r5, #8]	@ movhi
 488              	.LVL23:
 489              		.loc 1 173 0
 490 003c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 491              	.LVL24:
 492              	.L46:
 128:Src/spicom.c  ****     {
 493              		.loc 1 128 0 discriminator 1
 494 0040 DFF878A0 		ldr	r10, .L53+20
 495 0044 BAF90030 		ldrsh	r3, [r10]
 496 0048 002B     		cmp	r3, #0
 497 004a E1D1     		bne	.L48
 130:Src/spicom.c  ****         buffer = malloc(size);
 498              		.loc 1 130 0
 499 004c 3A68     		ldr	r2, [r7]
 500 004e 4FF06C09 		mov	r9, #108
 501 0052 164B     		ldr	r3, .L53+4
 502 0054 09FB02F9 		mul	r9, r9, r2
 131:Src/spicom.c  ****         memory_allocated = 1;
 503              		.loc 1 131 0
 504 0058 DFF85C80 		ldr	r8, .L53+16
 505 005c 4846     		mov	r0, r9
 506              	.LVL25:
 130:Src/spicom.c  ****         buffer = malloc(size);
 507              		.loc 1 130 0
 508 005e C3F80090 		str	r9, [r3]
 131:Src/spicom.c  ****         memory_allocated = 1;
 509              		.loc 1 131 0
 510 0062 FFF7FEFF 		bl	malloc
ARM GAS  /tmp/ccUNhyIk.s 			page 14


 511              	.LVL26:
 132:Src/spicom.c  **** 
 512              		.loc 1 132 0
 513 0066 AAF80040 		strh	r4, [r10]	@ movhi
 514              	.LVL27:
 131:Src/spicom.c  ****         memory_allocated = 1;
 515              		.loc 1 131 0
 516 006a C8F80000 		str	r0, [r8]
 517 006e D3E7     		b	.L47
 518              	.LVL28:
 519              	.L52:
 144:Src/spicom.c  **** 
 520              		.loc 1 144 0
 521 0070 0F48     		ldr	r0, .L53+8
 149:Src/spicom.c  **** 
 522              		.loc 1 149 0
 523 0072 4FF0FF34 		mov	r4, #-1
 144:Src/spicom.c  **** 
 524              		.loc 1 144 0
 525 0076 FFF7FEFF 		bl	mprintf
 526              	.LVL29:
 146:Src/spicom.c  ****         SpiRxData->checksum = 0;
 527              		.loc 1 146 0
 528 007a 0E49     		ldr	r1, .L53+12
 148:Src/spicom.c  ****         UpdateFile->total_sequence_number = -1;
 529              		.loc 1 148 0
 530 007c 3268     		ldr	r2, [r6]
 146:Src/spicom.c  ****         SpiRxData->checksum = 0;
 531              		.loc 1 146 0
 532 007e 0023     		movs	r3, #0
 533 0080 0968     		ldr	r1, [r1]
 152:Src/spicom.c  **** 
 534              		.loc 1 152 0
 535 0082 3220     		movs	r0, #50
 146:Src/spicom.c  ****         SpiRxData->checksum = 0;
 536              		.loc 1 146 0
 537 0084 0B80     		strh	r3, [r1]	@ movhi
 147:Src/spicom.c  ****         UpdateFile->current_sequence_number = 0;
 538              		.loc 1 147 0
 539 0086 A1F87630 		strh	r3, [r1, #118]	@ movhi
 149:Src/spicom.c  **** 
 540              		.loc 1 149 0
 541 008a C2E90043 		strd	r4, r3, [r2]
 152:Src/spicom.c  **** 
 542              		.loc 1 152 0
 543 008e FFF7FEFF 		bl	HAL_Delay
 544              	.LVL30:
 155:Src/spicom.c  ****         descriptor.file_pointer = buffer;
 545              		.loc 1 155 0
 546 0092 064A     		ldr	r2, .L53+4
 163:Src/spicom.c  **** 
 547              		.loc 1 163 0
 548 0094 D8F80010 		ldr	r1, [r8]
 549 0098 0123     		movs	r3, #1
 155:Src/spicom.c  ****         descriptor.file_pointer = buffer;
 550              		.loc 1 155 0
 551 009a 1268     		ldr	r2, [r2]
ARM GAS  /tmp/ccUNhyIk.s 			page 15


 552              	.LVL31:
 553              		.loc 1 173 0
 554 009c 2846     		mov	r0, r5
 163:Src/spicom.c  **** 
 555              		.loc 1 163 0
 556 009e 2B81     		strh	r3, [r5, #8]	@ movhi
 557 00a0 C5E90012 		strd	r1, r2, [r5]
 558              		.loc 1 173 0
 559 00a4 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 560              	.LVL32:
 561              	.L54:
 562              		.align	2
 563              	.L53:
 564 00a8 00000000 		.word	UpdateFile
 565 00ac 00000000 		.word	.LANCHOR5
 566 00b0 00000000 		.word	.LC0
 567 00b4 00000000 		.word	SpiRxData
 568 00b8 00000000 		.word	.LANCHOR3
 569 00bc 00000000 		.word	.LANCHOR4
 570              		.cfi_endproc
 571              	.LFE142:
 573              		.section	.text.checkDataAvailable,"ax",%progbits
 574              		.align	1
 575              		.p2align 2,,3
 576              		.global	checkDataAvailable
 577              		.syntax unified
 578              		.thumb
 579              		.thumb_func
 580              		.fpu fpv4-sp-d16
 582              	checkDataAvailable:
 583              	.LFB143:
 174:Src/spicom.c  **** 
 175:Src/spicom.c  **** int checkDataAvailable()
 176:Src/spicom.c  **** {
 584              		.loc 1 176 0
 585              		.cfi_startproc
 586              		@ args = 0, pretend = 0, frame = 0
 587              		@ frame_needed = 0, uses_anonymous_args = 0
 588              		@ link register save eliminated.
 177:Src/spicom.c  ****     return UpdateDataAvailable;
 589              		.loc 1 177 0
 590 0000 014B     		ldr	r3, .L56
 591 0002 1888     		ldrh	r0, [r3]
 178:Src/spicom.c  **** }
 592              		.loc 1 178 0
 593 0004 00B2     		sxth	r0, r0
 594 0006 7047     		bx	lr
 595              	.L57:
 596              		.align	2
 597              	.L56:
 598 0008 00000000 		.word	.LANCHOR1
 599              		.cfi_endproc
 600              	.LFE143:
 602              		.section	.text.setDataRecieved,"ax",%progbits
 603              		.align	1
 604              		.p2align 2,,3
 605              		.global	setDataRecieved
ARM GAS  /tmp/ccUNhyIk.s 			page 16


 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 609              		.fpu fpv4-sp-d16
 611              	setDataRecieved:
 612              	.LFB144:
 179:Src/spicom.c  **** 
 180:Src/spicom.c  **** int setDataRecieved()
 181:Src/spicom.c  **** {
 613              		.loc 1 181 0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 0
 616              		@ frame_needed = 0, uses_anonymous_args = 0
 617              		@ link register save eliminated.
 182:Src/spicom.c  ****     UpdateDataAvailable = 0;
 618              		.loc 1 182 0
 619 0000 014B     		ldr	r3, .L59
 620 0002 0020     		movs	r0, #0
 621 0004 1880     		strh	r0, [r3]	@ movhi
 183:Src/spicom.c  ****     return 0;
 184:Src/spicom.c  **** }
 622              		.loc 1 184 0
 623 0006 7047     		bx	lr
 624              	.L60:
 625              		.align	2
 626              	.L59:
 627 0008 00000000 		.word	.LANCHOR1
 628              		.cfi_endproc
 629              	.LFE144:
 631              		.section	.text.updateFinished,"ax",%progbits
 632              		.align	1
 633              		.p2align 2,,3
 634              		.global	updateFinished
 635              		.syntax unified
 636              		.thumb
 637              		.thumb_func
 638              		.fpu fpv4-sp-d16
 640              	updateFinished:
 641              	.LFB145:
 185:Src/spicom.c  **** 
 186:Src/spicom.c  **** void updateFinished()
 187:Src/spicom.c  **** {
 642              		.loc 1 187 0
 643              		.cfi_startproc
 644              		@ args = 0, pretend = 0, frame = 0
 645              		@ frame_needed = 0, uses_anonymous_args = 0
 646              		@ link register save eliminated.
 188:Src/spicom.c  ****     UpdateFinished = 1;
 647              		.loc 1 188 0
 648 0000 014B     		ldr	r3, .L62
 649 0002 0122     		movs	r2, #1
 650 0004 1A80     		strh	r2, [r3]	@ movhi
 189:Src/spicom.c  **** }
 651              		.loc 1 189 0
 652 0006 7047     		bx	lr
 653              	.L63:
 654              		.align	2
ARM GAS  /tmp/ccUNhyIk.s 			page 17


 655              	.L62:
 656 0008 00000000 		.word	.LANCHOR2
 657              		.cfi_endproc
 658              	.LFE145:
 660              		.global	NextUpdateDataPackage
 661              		.global	UpdateFinished
 662              		.global	UpdateDataAvailable
 663              		.comm	UpdateFile,4,4
 664              		.comm	SpiRxData,4,4
 665              		.comm	SpiTxData,4,4
 666              		.section	.bss.UpdateDataAvailable,"aw",%nobits
 667              		.align	1
 668              		.set	.LANCHOR1,. + 0
 671              	UpdateDataAvailable:
 672 0000 0000     		.space	2
 673              		.section	.bss.UpdateFinished,"aw",%nobits
 674              		.align	1
 675              		.set	.LANCHOR2,. + 0
 678              	UpdateFinished:
 679 0000 0000     		.space	2
 680              		.section	.bss.buffer.10060,"aw",%nobits
 681              		.align	2
 682              		.set	.LANCHOR3,. + 0
 685              	buffer.10060:
 686 0000 00000000 		.space	4
 687              		.section	.bss.memory_allocated.10061,"aw",%nobits
 688              		.align	1
 689              		.set	.LANCHOR4,. + 0
 692              	memory_allocated.10061:
 693 0000 0000     		.space	2
 694              		.section	.bss.size.10062,"aw",%nobits
 695              		.align	2
 696              		.set	.LANCHOR5,. + 0
 699              	size.10062:
 700 0000 00000000 		.space	4
 701              		.section	.data.NextUpdateDataPackage,"aw",%progbits
 702              		.align	2
 703              		.set	.LANCHOR0,. + 0
 706              	NextUpdateDataPackage:
 707 0000 01000000 		.word	1
 708              		.section	.rodata.processUpdateData.str1.4,"aMS",%progbits,1
 709              		.align	2
 710              	.LC0:
 711 0000 55706772 		.ascii	"Upgrading...\015\012\000"
 711      6164696E 
 711      672E2E2E 
 711      0D0A00
 712              		.text
 713              	.Letext0:
 714              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 715              		.file 3 "/usr/include/newlib/sys/lock.h"
 716              		.file 4 "/usr/include/newlib/sys/_types.h"
 717              		.file 5 "/usr/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h"
 718              		.file 6 "/usr/include/newlib/sys/reent.h"
 719              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 720              		.file 8 "Inc/main.h"
 721              		.file 9 "Drivers/CMSIS/Include/core_cm7.h"
ARM GAS  /tmp/ccUNhyIk.s 			page 18


 722              		.file 10 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 723              		.file 11 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 724              		.file 12 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 725              		.file 13 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 726              		.file 14 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_spi.h"
 727              		.file 15 "Inc/spicom.h"
 728              		.file 16 "Inc/spi.h"
 729              		.file 17 "/usr/include/newlib/stdlib.h"
 730              		.file 18 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 731              		.file 19 "<built-in>"
ARM GAS  /tmp/ccUNhyIk.s 			page 19


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spicom.c
     /tmp/ccUNhyIk.s:18     .text.SPI1_IRQHandler:0000000000000000 $t
     /tmp/ccUNhyIk.s:26     .text.SPI1_IRQHandler:0000000000000000 SPI1_IRQHandler
     /tmp/ccUNhyIk.s:204    .text.SPI1_IRQHandler:00000000000000ac $d
                            *COM*:0000000000000004 SpiRxData
                            *COM*:0000000000000004 SpiTxData
                            *COM*:0000000000000004 UpdateFile
     /tmp/ccUNhyIk.s:215    .text.confirmUpdateDataAccuracy:0000000000000000 $t
     /tmp/ccUNhyIk.s:223    .text.confirmUpdateDataAccuracy:0000000000000000 confirmUpdateDataAccuracy
     /tmp/ccUNhyIk.s:306    .text.confirmUpdateDataAccuracy:0000000000000048 $d
     /tmp/ccUNhyIk.s:313    .text.checkIfUpdateData:0000000000000000 $t
     /tmp/ccUNhyIk.s:321    .text.checkIfUpdateData:0000000000000000 checkIfUpdateData
     /tmp/ccUNhyIk.s:363    .text.checkIfUpdateData:0000000000000028 $d
     /tmp/ccUNhyIk.s:369    .text.putUpdateDataResponse:0000000000000000 $t
     /tmp/ccUNhyIk.s:377    .text.putUpdateDataResponse:0000000000000000 putUpdateDataResponse
     /tmp/ccUNhyIk.s:423    .text.putUpdateDataResponse:0000000000000024 $d
     /tmp/ccUNhyIk.s:429    .text.processUpdateData:0000000000000000 $t
     /tmp/ccUNhyIk.s:437    .text.processUpdateData:0000000000000000 processUpdateData
     /tmp/ccUNhyIk.s:564    .text.processUpdateData:00000000000000a8 $d
     /tmp/ccUNhyIk.s:574    .text.checkDataAvailable:0000000000000000 $t
     /tmp/ccUNhyIk.s:582    .text.checkDataAvailable:0000000000000000 checkDataAvailable
     /tmp/ccUNhyIk.s:598    .text.checkDataAvailable:0000000000000008 $d
     /tmp/ccUNhyIk.s:603    .text.setDataRecieved:0000000000000000 $t
     /tmp/ccUNhyIk.s:611    .text.setDataRecieved:0000000000000000 setDataRecieved
     /tmp/ccUNhyIk.s:627    .text.setDataRecieved:0000000000000008 $d
     /tmp/ccUNhyIk.s:632    .text.updateFinished:0000000000000000 $t
     /tmp/ccUNhyIk.s:640    .text.updateFinished:0000000000000000 updateFinished
     /tmp/ccUNhyIk.s:656    .text.updateFinished:0000000000000008 $d
     /tmp/ccUNhyIk.s:706    .data.NextUpdateDataPackage:0000000000000000 NextUpdateDataPackage
     /tmp/ccUNhyIk.s:678    .bss.UpdateFinished:0000000000000000 UpdateFinished
     /tmp/ccUNhyIk.s:671    .bss.UpdateDataAvailable:0000000000000000 UpdateDataAvailable
     /tmp/ccUNhyIk.s:667    .bss.UpdateDataAvailable:0000000000000000 $d
     /tmp/ccUNhyIk.s:674    .bss.UpdateFinished:0000000000000000 $d
     /tmp/ccUNhyIk.s:681    .bss.buffer.10060:0000000000000000 $d
     /tmp/ccUNhyIk.s:685    .bss.buffer.10060:0000000000000000 buffer.10060
     /tmp/ccUNhyIk.s:688    .bss.memory_allocated.10061:0000000000000000 $d
     /tmp/ccUNhyIk.s:692    .bss.memory_allocated.10061:0000000000000000 memory_allocated.10061
     /tmp/ccUNhyIk.s:695    .bss.size.10062:0000000000000000 $d
     /tmp/ccUNhyIk.s:699    .bss.size.10062:0000000000000000 size.10062
     /tmp/ccUNhyIk.s:702    .data.NextUpdateDataPackage:0000000000000000 $d
     /tmp/ccUNhyIk.s:709    .rodata.processUpdateData.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_SPI_IRQHandler
HAL_SPI_GetState
HAL_SPI_TransmitReceive_IT
memcpy
hspi1
malloc
mprintf
HAL_Delay
